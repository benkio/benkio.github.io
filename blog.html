<!doctype html>
<html lang="en">
<head>
<title>Blog</title>
<!-- 2020-07-20 Mon 16:01 -->
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="generator" content="Org-mode">
<meta name="author" content="benkio">

<link  href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.5/css/bootstrap.min.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.5/js/bootstrap.min.js"></script>
<style>body { margin-bottom: 0px; }</style><script>
$(function() {
    'use strict';

    $('.bs-docs-sidebar li').first().addClass('active');

    $(document.body).scrollspy({target: '.bs-docs-sidebar'});

    $('.bs-docs-sidebar').affix();
});
</script><link rel="shortcut icon" href="images/favicon.ico" type="image/x-icon">
<link rel="icon" href="images/favicon.ico" type="image/x-icon">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.0/css/all.min.css">
<link href="https://fonts.googleapis.com/css?family=Montserrat" rel="stylesheet" type="text/css">
<link href="https://fonts.googleapis.com/css?family=Lato" rel="stylesheet" type="text/css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<link rel="stylesheet" href="css/main.css">
<link rel="stylesheet" href="css/blog.css">
</head>
<body>
<div id="content" class="container">
<div class="row"><div class="col-md-12"><h1 class="title">Blog</h1>

<div id="outline-container-navbar" class="outline-2 text-center navbar navbar-inverse navbar-fixed-top">
<h2 id="navbar"><a id="sec-" name="sec-"></a>Blog</h2>
<div class="outline-text-2" id="text-navbar">
    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#collapsableNavbar">
    <span class="icon-bar"></span>
    <span class="icon-bar"></span>
    <span class="icon-bar"></span>
    </button>
    <h1 id="navbarTitle" class="navbar-text">Blog</h1>
    <div class="collapse navbar-collapse" id="collapsableNavbar">
    <ul class="nav navbar-nav">
    <li><a title="Home" href="./index.html"><i class="fas fa-home fa-3x" aria-hidden="true"></i></a></li>
    <li><a title="Article List" href="./articleList.html" class="navbar-text h3">Article List</a></li>
    <li><a title="Book List" href="./bookList.html" class="navbar-text h3">Book List</a></li>
<li><a title="Album List" href="./albumList.html" class="navbar-text h3">Album List</a></li>
    </ul>
    </div>
</div>
</div>


<div id="outline-container-Articles" class="outline-2">
<h2 id="Articles"><a id="sec-" name="sec-"></a>Articles</h2>
<div class="outline-text-2" id="text-Articles">
<div id='wrap1' data-include="article1"></div>
<div id='wrap2' data-include="article2"></div>
<div id='wrap3' data-include="article3"></div>
<div id='wrap4' data-include="article4"></div>
<div id='wrap5' data-include="article5"></div>

<ul id="pagination" class="pagination pagination-lg"></ul>

<script type="text/javascript">
var htmlArticles = ["<div id=\"outline-container-Article\" class=\"outline-2\"><h2 id=\"Article\"><a id=\"sec-\" name=\"sec-\"><\/a>Static Personal Website with Org Mode<\/h2><div class=\"outline-text-2\" id=\"text-Article\"><p><b>Created: <span class=\"timestamp-wrapper\"><span class=\"timestamp\">&lt;2020-06-11 Thu&gt;<\/span><\/span><\/b><\/p><\/div><div id=\"outline-container-ArticleAbstract\" class=\"outline-3\"><h3 id=\"ArticleAbstract\"><a id=\"sec-\" name=\"sec-\"><\/a>Abstract<\/h3><div class=\"outline-text-3\" id=\"text-ArticleAbstract\"><p>In this article I will show you how I built this site using:<\/p><ul class=\"org-ul\"><li>Org-mode<\/li><li>Bootstrap (<a href=\"https:\/\/github.com\/marsmining\/ox-twbs\">ox-twbs<\/a>)<\/li><li>HTML(autogenerated) + CSS(minimal) + Javascript (<a href=\"https:\/\/learn.jquery.com\/\">JQuery<\/a>)<\/li><\/ul><p>You can find the source code of this madness in <a href=\"https:\/\/github.com\/benkio\/benkio.github.io\">here<\/a>.<\/p><p>As you can see it is hosted into Github pages, therefore it\'s astatic webpage. However, we can get some backendfeatures using Org and Elisp. Of course, it\'s anything like aproject who has a real backend available, and some times we wouldneed to do some proper hacks.<\/p><p>Keep reading to discover the pitfalls and advantages of this approach.<\/p><\/div><\/div><div id=\"outline-container-ArticleContent\" class=\"outline-3\"><h3 id=\"ArticleContent\"><a id=\"sec-\" name=\"sec-\"><\/a>Content<\/h3><div class=\"outline-text-3\" id=\"text-ArticleContent\"><p>In this section, I will run you through the main features of the site, insertinglinks to the code where necessary.<\/p><\/div><div id=\"outline-container-ArticleContentFeatures\" class=\"outline-4\"><h4 id=\"ArticleContentFeatures\"><a id=\"sec-\" name=\"sec-\"><\/a>Features<\/h4><div class=\"outline-text-4\" id=\"text-ArticleContentFeatures\"><\/div><div id=\"outline-container-ArticleContentFeaturesHTML\" class=\"outline-5\"><h5 id=\"ArticleContentFeaturesHTML\"><a id=\"sec-\" name=\"sec-\"><\/a>Autogenerated HTML and Org-mode typing comfort<\/h5><div class=\"outline-text-5\" id=\"text-ArticleContentFeaturesHTML\"><p>One of the biggest advantages of choosing org-mode as atechnology is that you will get access to the comfort of writinga blog using a markdown language. Then, it looks clean and comeswith a lot of features (integrated into Emacs):<\/p><ul class=\"org-ul\"><li>It\'s easy to manipulate: tables, dates, links<\/li><li>Organize your text in sections<\/li><li>Create lists like this one and so on<\/li><\/ul><p>Basically you can do what you could do in a <code>.md<\/code> file andmore.<\/p><p>That\'s great!!! But what do you want at the end of the day is thewell-known trinity: HTML, CSS, JS. So, we need a way to generateat least HTML from that. Luckily, org-mode comes with a nativeexport system to HTML, with its own CSS too! However, the outcomeis far from being <i>modern<\/i>.<\/p><p>How to make things better? For sure I don\'t want to mess up withthe CSS: I\'m not a frontend dev, plus I learned a long time ago thepain of web designing. The only other option is to <b>steal it<\/b>!Fortunately, I have a go-to option: <span class=\"underline\">Bootstrap<\/span>.<\/p><p>Anyway, Bootstrap comes with its own set of rules and structure.Aligning the native autogenerated HTML code to that is stillvery hard, but apparently someone else had my same idea and hecreated an org extension that generates a Bootstrap-friendly HTMLoutput. This extension is called <a href=\"https:\/\/github.com\/marsmining\/ox-twbs\">ox-twbs<\/a> and it provides acommand (<code>org-twbs-export-to-html<\/code>) to compile the org to HTML.<\/p><p>In this way I\'m writing Org text right now and what you see it\'sthe final result. I got the responsiveness and all the styling(almost) for free, icons included (+ <a href=\"https:\/\/fontawesome.com\/\">fontawesome<\/a> for the homepage).<\/p><\/div><\/div><div id=\"outline-container-ArticleContentFeaturesDynamic\" class=\"outline-5\"><h5 id=\"ArticleContentFeaturesDynamic\"><a id=\"sec-\" name=\"sec-\"><\/a>Article List and Blog Dynamic Content<\/h5><div class=\"outline-text-5\" id=\"text-ArticleContentFeaturesDynamic\"><p>I already told you that this site is static, then how can weachieve some dynamic behavior?<\/p><p>The idea here is to take advantage of the org compilation toexecute some Elisp code (call it server-side if you wish). Thiscode will create some Js to be embedded into the page itself toserve as data. Later, on the javascript client-side, we will usethose variables to render the data into the page.<\/p><p>Using this method we can access other HTML files, such as thisarticle page, manipulate their content, and generate our data forthe targeted page. Two examples are The <a href=\"https:\/\/benkio.github.io\/blog.html\">Blog<\/a> page and the <a href=\"https:\/\/benkio.github.io\/articleList.html\">ArticleList<\/a> page.<\/p><p>Both occasions, there are two Js arrays, called<code>htmlArticles<\/code> and <code>htmlArticlesPaths<\/code>. The former contains asubset of the HTML structure (Title and Abstract) of theArticles, and the latter contains the relative path of them.Starting from those arrays we can zip it and create the list ofarticles: minimal in the case of the <a href=\"https:\/\/benkio.github.io\/articleList.html\">Article List<\/a> page and withsome preview in the case of the <a href=\"https:\/\/benkio.github.io\/blog.html\">Blog<\/a> page.<\/p><p>In addition, in order to achieve some simple sorting, we justneed to store the date into the articles filenames, as you cansee directly from the URL of this page.<\/p><p>What described before is achieved by the Elisp code into the file<a href=\"https:\/\/github.com\/benkio\/benkio.github.io\/blob\/master\/templates.org\">templates.org<\/a>(omitted for brevity) and then integrated into thepage in this way:<\/p><div class=\"org-src-container\"><pre class=\"src src-org\"><span style=\"color: #ff7f24;\">#+html: &lt;ul id=\"pagination\" class=\"pagination pagination-lg\"&gt;&lt;\/ul&gt;<\/span><\/pre><\/div><p>After that, we need to add some custom js to treat those variables andpopulate the empty article tags:<\/p><p><a id=\"populateArticlesSnippet\" name=\"populateArticlesSnippet\"><\/a><\/p><div class=\"org-src-container\"><pre class=\"src src-javascript\">#+END_SRC#+call: templates.org:inline-js(<span style=\"color: #ffa07a;\">\"pagination\"<\/span>)#+name: populateArticles#+begin_src javascript :exports none<span style=\"color: #ff7f24;\">\/\/ <\/span><span style=\"color: #ff7f24;\">Pagination 0 based<\/span><span style=\"color: #00ffff;\">const<\/span> <span style=\"color: #eedd82;\">htmlArticlesPaginated<\/span> = htmlArticles.slice(page, page + perPage);<span style=\"color: #00ffff;\">const<\/span> <span style=\"color: #eedd82;\">htmlArticlesPathsPaginated<\/span> = htmlArticlesPaths.slice(page, page + perPage);<span style=\"color: #00ffff;\">var<\/span> <span style=\"color: #eedd82;\">articleDivs<\/span> = $(<span style=\"color: #ffa07a;\">\"[data-include]\"<\/span>).map(<span style=\"color: #00ffff;\">function<\/span>() { <span style=\"color: #00ffff;\">return<\/span> <span style=\"color: #7fffd4;\">this<\/span>.id; });<span style=\"color: #00ffff;\">var<\/span> <span style=\"color: #eedd82;\">articlesZip<\/span> = [];<span style=\"color: #00ffff;\">var<\/span> <span style=\"color: #eedd82;\">articlesElementsZip<\/span> = [];<span style=\"color: #00ffff;\">for<\/span> (<span style=\"color: #00ffff;\">var<\/span> <span style=\"color: #eedd82;\">i<\/span> = 0; i &lt; htmlArticlesPaginated.length; i++) {    articlesZip.push([htmlArticlesPaginated[i], htmlArticlesPathsPaginated[i]]);}<span style=\"color: #00ffff;\">var<\/span> <span style=\"color: #eedd82;\">htmlArticlesTitle<\/span> = articlesZip.map(<span style=\"color: #00ffff;\">function<\/span>(<span style=\"color: #eedd82;\">tuple<\/span>) {  <span style=\"color: #00ffff;\">const<\/span> [<span style=\"color: #eedd82;\">articleContent<\/span>, <span style=\"color: #eedd82;\">articlePath<\/span>] = tuple;  <span style=\"color: #00ffff;\">return<\/span> $($.parseHTML(articleContent)).find(<span style=\"color: #ffa07a;\">\"#Article\"<\/span>).wrap(<span style=\"color: #00ffff;\">function<\/span> (){    <span style=\"color: #00ffff;\">return<\/span> <span style=\"color: #ffa07a;\">\"&lt;a href=\'\"<\/span> + articlePath + <span style=\"color: #ffa07a;\">\"\'&gt;&lt;\/a&gt;\"<\/span>  }).parent();});<span style=\"color: #00ffff;\">var<\/span> <span style=\"color: #eedd82;\">htmlArticlesAbstract<\/span> = htmlArticlesPaginated.map(<span style=\"color: #00ffff;\">function<\/span>(<span style=\"color: #eedd82;\">articleContent<\/span>) {  <span style=\"color: #00ffff;\">return<\/span> $($.parseHTML(articleContent)).find(<span style=\"color: #ffa07a;\">\"#outline-container-ArticleAbstract\"<\/span>);});<span style=\"color: #00ffff;\">for<\/span> (<span style=\"color: #00ffff;\">var<\/span> <span style=\"color: #eedd82;\">i<\/span> = 0; i &lt; htmlArticlesPaginated.length; i++) {    articlesElementsZip.push([articleDivs[i], htmlArticlesTitle[i], htmlArticlesAbstract[i]]);}articlesElementsZip.forEach(<span style=\"color: #00ffff;\">function<\/span>(<span style=\"color: #eedd82;\">tuple<\/span>) {    <span style=\"color: #00ffff;\">const<\/span> [<span style=\"color: #eedd82;\">element<\/span>, <span style=\"color: #eedd82;\">title<\/span>, <span style=\"color: #00ffff;\">abstract<\/span>] = tuple;    $(<span style=\"color: #ffa07a;\">\"#\"<\/span> + element).html($(<span style=\"color: #ffa07a;\">\'&lt;div&gt;\'<\/span>).append(title).append(<span style=\"color: #00ffff;\">abstract<\/span>));});<\/pre><\/div><p>Obviously, all of this came at a cost, in particular:<\/p><ul class=\"org-ul\"><li>In case of an article addition\/deletion\/renaming, we need torecompile both pages. This could be a nasty problem if we wouldneed to add multiple dynamic behaviors to several pages. A possibleworkaround could be to trigger the whole site compilation from asingle page, like the root page of the site. It might still takequite some time and this leads to the next point.<\/li><li>Not scalable compilation time: if we are going to have hundreds ofarticles it might take a long time and space (size of jsvariables). A workaround could be to split the articles intomultiple folders, by year or with an archive folder, then keep thedynamic nature only to a subset of the articles.<\/li><\/ul><\/div><\/div><div id=\"outline-container-ArticleContentFeaturesPagination\" class=\"outline-5\"><h5 id=\"ArticleContentFeaturesPagination\"><a id=\"sec-\" name=\"sec-\"><\/a>Pagination<\/h5><div class=\"outline-text-5\" id=\"text-ArticleContentFeaturesPagination\"><p>Pagination is no different from the previous section, in fact, Ittakes advantage of the same data.<\/p><p>If you take a look closely at the previous <a href=\"#populateArticlesSnippet\">snippet<\/a> you will seetwo additional variables, called <code>page<\/code> and <code>perPage<\/code>, used toslice the starting data arrays to the specific selectedpage. Both of those variables are defined in another snippet, inparticular, the <code>page<\/code> is selected from the URL query string,meanwhile, the <code>perPage<\/code> is fixed to 5.<\/p><p>Here you can see the complete js code snippet for the pagination:<\/p><div class=\"org-src-container\"><pre class=\"src src-org\"><span style=\"color: #ff7f24;\">#+CALL: templates.org:compileOrgArticles()<\/span><span style=\"color: #ff7f24;\">#+CALL: templates.org:articlesRelativePaths()<\/span><span style=\"color: #ff7f24;\">#+NAME: pagination<\/span>#+BEGIN_SRC javascript :exports noneconst page = ((new URLSearchParams(window.location.search).get(\'page\') || 1) - 1) * 5;const perPage = 5;for (var i = 0; i &lt; (htmlArticles.length\/perPage); i++) {    var active = \"\";    if ((page\/perPage) <span style=\"color: #b3b3b3;\">== i) {<\/span><span style=\"color: #b3b3b3;\">        active = \"class=<\/span>\'active\'\";    }    $(\"#pagination\").append(        \'&lt;li \' + active + \'&gt;&lt;a href=\"\' + window.location.href.split(\'?\')[0] + \'?page=\' + (i+1) + \'\"&gt;\' + (i+1) + \'&lt;\/a&gt;&lt;\/li&gt;\'    );}<\/pre><\/div><\/div><\/div><\/div><\/div><div id=\"outline-container-ArticleConclusions\" class=\"outline-3\"><h3 id=\"ArticleConclusions\"><a id=\"sec-\" name=\"sec-\"><\/a>Conclusions<\/h3><div class=\"outline-text-3\" id=\"text-ArticleConclusions\"><p>In conclusion, <b><b>DON\'T DO WHAT I HAVE DONE<\/b><\/b>. I\'m sure there areseveral solutions that are more convenient than the one I implementedhere, like Wordpress, Blogspot, Blogger&#x2026;<\/p><p>Anyway, even if I have to re-implement several well-known frameworks, Ialso gain these benefits:<\/p><ul class=\"org-ul\"><li>I have the chance to learn org better<\/li><li>I am free from a specific framework<\/li><li>It\'s fun (for me)<\/li><\/ul><\/div><\/div><\/div>","<div id=\"outline-container-Article\" class=\"outline-2\"><h2 id=\"Article\"><a id=\"sec-\" name=\"sec-\"><\/a>Spark Amp Review<\/h2><div class=\"outline-text-2\" id=\"text-Article\"><p><b>Created: <span class=\"timestamp-wrapper\"><span class=\"timestamp\">&lt;2020-06-16 Tue&gt;<\/span><\/span><\/b><\/p><\/div><div id=\"outline-container-ArticleAbstract\" class=\"outline-3\"><h3 id=\"ArticleAbstract\"><a id=\"sec-\" name=\"sec-\"><\/a>Abstract<\/h3><div class=\"outline-text-3\" id=\"text-ArticleAbstract\"><p>A personal compact and simple review of the <a href=\"https:\/\/www.positivegrid.com\/spark\">Positive Grid Spark<\/a>Amp. This will be more a review from my personal point of view,without inspecting feature by feature, but pointing outstrengths, weaknesses and especially personal considerations.<\/p><a href=\'#\' class=\'pop\'><img src=\"https:\/\/s.yimg.com\/uu\/api\/res\/1.2\/SIEC_NxAvIkJg8UERCTJyQ--~B\/aD0xMDAwO3c9MTYwMDtzbT0xO2FwcGlkPXl0YWNoeW9u\/https:\/\/o.aolcdn.com\/images\/dims?resize=2000%2C2000%2Cshrink&image_uri=https:\/\/s.yimg.com\/os\/creatr-uploaded-images\/2019-10\/cddb9c30-f765-11e9-9aef-750a36a00aff&client=a1acac3e1b3290917d92&signature=62b42b0e3fe8343d14186d7ccb05b484d51f35d7\" style=\"width:240px;height:150px;\"><\/img><\/a><a href=\'#\' class=\'pop\'><img src=\"https:\/\/content.invisioncic.com\/w286537\/monthly_2019_10\/gallery-top.jpg.39a628b0b493947d800b5f628afe1635.jpg\" style=\"width:240px;height:150px;\"><\/img><\/a><a href=\'#\' class=\'pop\'><img src=\"https:\/\/images.reverb.com\/image\/upload\/s--jQgu6AQa--\/f_auto,t_large\/v1582327513\/wesszqlihw2c19ai43e5.jpg\" style=\"width:200px;height:150px;\"><\/img><\/a><\/div><\/div><div id=\"outline-container-ArticleContent\" class=\"outline-3\"><h3 id=\"ArticleContent\"><a id=\"sec-\" name=\"sec-\"><\/a>Content<\/h3><div class=\"outline-text-3\" id=\"text-ArticleContent\"><p>The standard guitarist usually is also a gear fanatic and he\'salways in search of something new to try and experiment with, itcan be a new amp, software, guitars, pedals&#x2026;<\/p><p>So you might think: <i>\"Well this guy is also a nerd, so he should bethe best one when it comes to gear reviews!\"<\/i>. Nothing could be morewrong than that ðŸ˜… When it comes to the guitar I\'m the most pragmaticperson, focused on doing exercises and practice, spending no time onstaying up to date with the latest news. Then it makes me the mostunqualified person for the job.<\/p><p>Anyway, I\'ll give you my honest opinion on this amp, and hopefully,you could find it useful. My main suggestion still, is to check outthe Youtube reviews I linked in the <a href=\"#ArticleContentYoutubeLinks\">Other Youtube Reviews linksSection<\/a>. I can tell you I decided to pre-order this amp in late2019 by looking at those first.<\/p><figure><iframe width=\"640\" height=\"480\" src=\"https:\/\/www.youtube.com\/embed\/mT1lF6Efi1E?rel=0\" allowfullscreen><\/iframe><figcaption>Positive Grid Spark Unboxing<\/figcaption><\/figure><\/div><div id=\"outline-container-ArticleContentSituationMotivationFirstImpact\" class=\"outline-4\"><h4 id=\"ArticleContentSituationMotivationFirstImpact\"><a id=\"sec-\" name=\"sec-\"><\/a>Situation, Motivation &amp; First Impact<\/h4><div class=\"outline-text-4\" id=\"text-ArticleContentSituationMotivationFirstImpact\"><p>Before starting, I want to explain my current situation, so you willunderstand also the follow-up motivations. At the moment, I\'mworking abroad, and that means: away from my hometown, on rent, witha fraction of what I usually have (both in terms of space availableand gear). Plus, I wish to keep my belongings compact because Imight need to move again and again. If you ever had to move to adifferent location you know what I mean. However, you know, youcan\'t stay without playing for longer ðŸ˜›<\/p><p>Then, I bought a cheap <a href=\"https:\/\/www.jacksonguitars.com\/gear\/shape\/dinky\/js-series-dinky-js22-7\/2910132568\">7-string guitar<\/a> (because I never had one, sowhy not), a ~100$ <a href=\"https:\/\/m-audio.com\/m-tracks\/2x2\">external audio interface<\/a>, a small <a href=\"https:\/\/www.blackstaramps.com\/uk\/products\/fly-3\">Blackstar miniamp<\/a> (I got it from 6 months Metalhammer subscription ðŸ˜Ž) and a pairof <a href=\"https:\/\/en-uk.sennheiser.com\/monitoring-headphone-studio-headphone-professional-audio-hd-380-pro\">headphones<\/a>. Using the guitar plug-ins on the PC, I was able to:play, record, jam along, and going back to business. In fact, I usedthis setup to record several songs you could find on my Youtubechannel. All is well that ends well, but there\'s always room forimprovement, especially in this case.<\/p><p>I started to see <a href=\"https:\/\/www.positivegrid.com\/spark\">Positive Grid Spark<\/a> commercials, reviews at the endof the last year when they started to sell it in preview. So lookingat the specs I noticed it did exactly what all my current setup didand more. In particular, what attracted me was:<\/p><ul class=\"org-ul\"><li>The ability to record<\/li><li>I can use it as an external speaker for my PC<\/li><li>Its 40W, it\'s always good to have some power ðŸ˜›<\/li><li>All the amp simulations, available also on-line. Since I\'m a lazyperson, if I can get a good tone without spending time tweakingthis setting or the other, the better.<\/li><li><b>The Price<\/b> Last, but not least! Just ~300$ ðŸ˜²<\/li><\/ul><p>It also comes with other features, but not very appealing to mehonestly. You can find the details on the <a href=\"https:\/\/www.positivegrid.com\/spark\">amp page<\/a>.<\/p><p>For all those reasons I decided to do me a Christmas gift and Iordered. Unfortunately, It took a long time to arrive, 6 months, dueto the unexpected amount of orders and a little pandemic inbetween. The first impact I had was great, it does exactly what itclaimed. I had some troubles setting it up, with the Bluetoothpairing between the app and the PC, for instance, I discovered it can\'tbe controlled by the phone app (changing the settings) and receivethe audio from the PC at the same time, but apart from these littledetails, I don\'t have any complaints about the sound.<\/p><p>In the next section, I will record some licks and riffs so you canhear the factory presets. I will not apply any post-productioneffect or changes so you can hear the raw sound out of the unititself.<\/p><p>I leave you with a lesson I learned about practice amps: <i>In order tobe good, it should not have the battery supply option!<\/i><\/p><\/div><\/div><div id=\"outline-container-ArticleContentDemos\" class=\"outline-4\"><h4 id=\"ArticleContentDemos\"><a id=\"sec-\" name=\"sec-\"><\/a>Demos<\/h4><div class=\"outline-text-4\" id=\"text-ArticleContentDemos\"><\/div><div id=\"outline-container-ArticleContentDemosTechnicalDifficulties\" class=\"outline-5\"><h5 id=\"ArticleContentDemosTechnicalDifficulties\"><a id=\"sec-\" name=\"sec-\"><\/a>Technical Difficulties<\/h5><div class=\"outline-text-5\" id=\"text-ArticleContentDemosTechnicalDifficulties\"><p>Yesterday, I tried recording something specifically for thisreview, but I encountered some technical difficulties. Inparticular, the problem was with the connectivity between the ampand the PC.<\/p><p>Positive Grid provides a specific <a href=\"https:\/\/help.positivegrid.com\/hc\/en-us\/articles\/360039598451-Spark-Windows-ASIO-Driver-\">ASIO driver<\/a> for the Spark amp,but even if I have that installed, it seems that the USBconnection is not reliable. It often disconnects and wasimpossible to take a recording or jam along. Meanwhile, theBluetooth connection works without any problem.<\/p><p>In the end, I realized that they keep updating the driver. Infact, going to <a href=\"https:\/\/help.positivegrid.com\/hc\/en-us\/articles\/360039598451-Spark-Windows-ASIO-Driver-\">the driver page<\/a> right now I see <i>Updated:Yesterday<\/i>. Therefore, I just installed the new driver, restartedthe PC and it seemed to work fine.<\/p><p>In the following sections, I will expose the criteria behind thedemos I will record. So you can hear the Spark sound.<\/p><p><b>Edit:<\/b> I just received right now an email telling the sparkusers to update the amp firmware to improve connectivity.<\/p><p><b>Edit:<\/b> <span class=\"timestamp-wrapper\"><span class=\"timestamp\">&lt;2020-06-19 Fri&gt; <\/span><\/span> What still happens is that, when yourecord using USB, the connection is quite unstable. When adisconnection happens, the recording stops and you need tounplug-plug the cable again and exit the DAW and you <b>MAY<\/b> solvethe issue. Otherwise the recording will present problems(clipping and various noises).  I add a sample of one of theinterferences<\/p><audio controls>  <source src=\"2020-06-16-SparkReview\/RecordingInterference.mp3\" type=\"audio\/mp3\">  Your browser does not support the audio element.<\/audio><p>It could also happen that the recording works and then degradeover time. As a result you will hear back the clips\/noises\/interferences.<\/p><\/div><\/div><div id=\"outline-container-ArticleContentDemosTheDemoPlan\" class=\"outline-5\"><h5 id=\"ArticleContentDemosTheDemoPlan\"><a id=\"sec-\" name=\"sec-\"><\/a>The Demo Plan<\/h5><div class=\"outline-text-5\" id=\"text-ArticleContentDemosTheDemoPlan\"><p>The main problem with doing Spark\'s demos is that it canreproduce an infinite variety of sounds you can craft by the appor download from the cloud. Then, I will just restrict the numberof sounds to the factory ones (those you can select by the fistknob on the amp itself).<\/p><p>Moving on, another decision to take is, what to play as a propersample? My idea is to select 3 different licks:<\/p><ul class=\"org-ul\"><li>One for testing clean tones (3)<\/li><li>One for testing crunch\/blues tones (2)<\/li><li>One for testing high gain tones (2)<\/li><\/ul><p>Then, I also want to play the same lick with different magnetsetup:<\/p><ul class=\"org-ul\"><li>Bridge magnet<\/li><li>Neck magnet<\/li><li>Bridge and Neck magnets<\/li><\/ul><p>This strategy will bring at least 21 samples, but I might play alittle more then that ðŸ˜„. I hope those willgive you quite a clear idea of the amp.<\/p><p>About the sound manipulation, I will not add any mixing\/masteringto the files: I\'ll just click record, and export the results. Soyou will have the exact raw sound files.<\/p><p><b>Edit<\/b>: for space reason I had to convert the wav files to mp3<\/p><\/div><\/div><div id=\"outline-container-ArticleContentDemosRecordings\" class=\"outline-5\"><h5 id=\"ArticleContentDemosRecordings\"><a id=\"sec-\" name=\"sec-\"><\/a>Recordings<\/h5><div class=\"outline-text-5\" id=\"text-ArticleContentDemosRecordings\"><\/div><ul class=\"org-ul\"><li><a id=\"sec-\" name=\"sec-\"><\/a>Acoustic<br ><div class=\"outline-text-6\" id=\"text-\"><p>This tone is probably reserved for the acustic guitar since sparkpromote himself as an amp for that as well.<\/p>    <table class=\"table table-dark\">  <thead>    <tr>      <th scope=\"col\">Lick<\/th>      <th scope=\"col\">Bridge Pickup<\/th>      <th scope=\"col\">Middle Position Pickup<\/th>      <th scope=\"col\">Neck Pickup<\/th>    <\/tr>  <\/thead>  <tbody>    <tr>      <th scope=\"row\">C Major Scale<\/th>      <td>        <audio controls>          <source src=\"2020-06-16-SparkReview\/CMajorAcusticBridge.mp3\" type=\"audio\/mp3\">      Your browser does not support the audio element.        <\/audio>      <\/td>      <td>        <audio controls>          <source src=\"2020-06-16-SparkReview\/CMajorAcusticBridgeNNeck.mp3\" type=\"audio\/mp3\">      Your browser does not support the audio element.        <\/audio>      <\/td>      <td>        <audio controls>          <source src=\"2020-06-16-SparkReview\/CMajorAcusticNeck.mp3\" type=\"audio\/mp3\">      Your browser does not support the audio element.        <\/audio>      <\/td>    <\/tr>    <tr>      <th scope=\"row\">Cemetery Gates<\/th>      <td>        <audio controls>          <source src=\"2020-06-16-SparkReview\/CemeteryGatesAcusticBridge.mp3\" type=\"audio\/mp3\">      Your browser does not support the audio element.        <\/audio>      <\/td>      <td>        <audio controls>          <source src=\"2020-06-16-SparkReview\/CemeteryGatesAcusticBridgeNNeck.mp3\" type=\"audio\/mp3\">      Your browser does not support the audio element.        <\/audio>      <\/td>      <td>        <audio controls>          <source src=\"2020-06-16-SparkReview\/CemeteryGatesAcusticNeck.mp3\" type=\"audio\/mp3\">      Your browser does not support the audio element.        <\/audio>      <\/td>    <\/tr>        <tr>      <th scope=\"row\">Mutter<\/th>      <td>        <audio controls>          <source src=\"2020-06-16-SparkReview\/MutterAcusticBridge.mp3\" type=\"audio\/mp3\">      Your browser does not support the audio element.        <\/audio>      <\/td>      <td>        <audio controls>          <source src=\"2020-06-16-SparkReview\/MutterAcusticBridgeNNeck.mp3\" type=\"audio\/mp3\">      Your browser does not support the audio element.        <\/audio>      <\/td>      <td>        <audio controls>          <source src=\"2020-06-16-SparkReview\/MutterAcusticNeck.mp3\" type=\"audio\/mp3\">      Your browser does not support the audio element.        <\/audio>      <\/td>    <\/tr>  <\/tbody><\/table><\/div><\/li><li><a id=\"sec-\" name=\"sec-\"><\/a>Bass<br ><div class=\"outline-text-6\" id=\"text-\"><p>This tone is probably reserved for the Bass guitar since sparkpromote himself as an amp for that as well.<\/p>    <table class=\"table table-dark\">  <thead>    <tr>      <th scope=\"col\">Lick<\/th>      <th scope=\"col\">Bridge Pickup<\/th>      <th scope=\"col\">Middle Position Pickup<\/th>      <th scope=\"col\">Neck Pickup<\/th>    <\/tr>  <\/thead>  <tbody>    <tr>      <th scope=\"row\">C Major Scale<\/th>      <td>        <audio controls>          <source src=\"2020-06-16-SparkReview\/CMajorBassBridge.mp3\" type=\"audio\/mp3\">      Your browser does not support the audio element.        <\/audio>      <\/td>      <td>        <audio controls>          <source src=\"2020-06-16-SparkReview\/CMajorBassBridgeNNeck.mp3\" type=\"audio\/mp3\">      Your browser does not support the audio element.        <\/audio>      <\/td>      <td>        <audio controls>          <source src=\"2020-06-16-SparkReview\/CMajorBassNeck.mp3\" type=\"audio\/mp3\">      Your browser does not support the audio element.        <\/audio>      <\/td>    <\/tr>    <tr>      <th scope=\"row\">Cemetery Gates<\/th>      <td>        <audio controls>          <source src=\"2020-06-16-SparkReview\/CemeteryGatesBassBridge.mp3\" type=\"audio\/mp3\">      Your browser does not support the audio element.        <\/audio>      <\/td>      <td>        <audio controls>          <source src=\"2020-06-16-SparkReview\/CemeteryGatesBassBridgeNNeck.mp3\" type=\"audio\/mp3\">      Your browser does not support the audio element.        <\/audio>      <\/td>      <td>        <audio controls>          <source src=\"2020-06-16-SparkReview\/CemeteryGatesBassNeck.mp3\" type=\"audio\/mp3\">      Your browser does not support the audio element.        <\/audio>      <\/td>    <\/tr>        <tr>      <th scope=\"row\">Mutter<\/th>      <td>        <audio controls>          <source src=\"2020-06-16-SparkReview\/MutterBassBridge.mp3\" type=\"audio\/mp3\">      Your browser does not support the audio element.        <\/audio>      <\/td>      <td>        <audio controls>          <source src=\"2020-06-16-SparkReview\/MutterBassBridgeNNeck.mp3\" type=\"audio\/mp3\">      Your browser does not support the audio element.        <\/audio>      <\/td>      <td>        <audio controls>          <source src=\"2020-06-16-SparkReview\/MutterBassNeck.mp3\" type=\"audio\/mp3\">      Your browser does not support the audio element.        <\/audio>      <\/td>    <\/tr>  <\/tbody><\/table><\/div><\/li><li><a id=\"sec-\" name=\"sec-\"><\/a>Clean<br ><div class=\"outline-text-6\" id=\"text-\">     <table class=\"table table-dark\">   <thead>     <tr>       <th scope=\"col\">Lick<\/th>       <th scope=\"col\">Bridge Pickup<\/th>       <th scope=\"col\">Middle Position Pickup<\/th>       <th scope=\"col\">Neck Pickup<\/th>     <\/tr>   <\/thead>   <tbody>     <tr>       <th scope=\"row\">C Major Scale<\/th>       <td>         <audio controls>           <source src=\"2020-06-16-SparkReview\/CMajorCleanBridge.mp3\" type=\"audio\/mp3\">       Your browser does not support the audio element.         <\/audio>       <\/td>       <td>         <audio controls>           <source src=\"2020-06-16-SparkReview\/CMajorCleanBridgeNNeck.mp3\" type=\"audio\/mp3\">       Your browser does not support the audio element.         <\/audio>       <\/td>       <td>         <audio controls>           <source src=\"2020-06-16-SparkReview\/CMajorCleanNeck.mp3\" type=\"audio\/mp3\">       Your browser does not support the audio element.         <\/audio>       <\/td>     <\/tr>     <tr>       <th scope=\"row\">Cemetery Gates<\/th>       <td>         <audio controls>           <source src=\"2020-06-16-SparkReview\/CemeteryGatesCleanBridge.mp3\" type=\"audio\/mp3\">       Your browser does not support the audio element.         <\/audio>       <\/td>       <td>         <audio controls>           <source src=\"2020-06-16-SparkReview\/CemeteryGatesCleanBridgeNNeck.mp3\" type=\"audio\/mp3\">       Your browser does not support the audio element.         <\/audio>       <\/td>       <td>         <audio controls>           <source src=\"2020-06-16-SparkReview\/CemeteryGatesCleanNeck.mp3\" type=\"audio\/mp3\">       Your browser does not support the audio element.         <\/audio>       <\/td>     <\/tr>         <tr>       <th scope=\"row\">Mutter<\/th>       <td>         <audio controls>           <source src=\"2020-06-16-SparkReview\/MutterCleanBridge.mp3\" type=\"audio\/mp3\">       Your browser does not support the audio element.         <\/audio>       <\/td>       <td>         <audio controls>           <source src=\"2020-06-16-SparkReview\/MutterCleanBridgeNNeck.mp3\" type=\"audio\/mp3\">       Your browser does not support the audio element.         <\/audio>       <\/td>       <td>         <audio controls>           <source src=\"2020-06-16-SparkReview\/MutterCleanNeck.mp3\" type=\"audio\/mp3\">       Your browser does not support the audio element.         <\/audio>       <\/td>     <\/tr>   <\/tbody> <\/table> <p>Dynamic Response - Bridge & Neck Pickups<\/p> <audio controls>   <source src=\"2020-06-16-SparkReview\/DynamicResponseCleanBridgeNNeck.mp3\" type=\"audio\/mp3\">Your browser does not support the audio element. <\/audio><\/div><\/li><li><a id=\"sec-\" name=\"sec-\"><\/a>Glassy<br ><div class=\"outline-text-6\" id=\"text-\"><p>For glassy and crunch I took as example the following two licksfrom Danny Page:<\/p><figure><iframe width=\"640\" height=\"480\" src=\"https:\/\/www.youtube.com\/embed\/UVepVNuitvw\" allowfullscreen><\/iframe><figcaption>Lick Friday 247<\/figcaption><\/figure><figure><iframe width=\"640\" height=\"480\" src=\"https:\/\/www.youtube.com\/embed\/cuhAXtjgTos\" allowfullscreen><\/iframe><figcaption>Lick Friday 250<\/figcaption><\/figure>    <table class=\"table table-dark\">  <thead>    <tr>      <th scope=\"col\">Lick<\/th>      <th scope=\"col\">Bridge Pickup<\/th>      <th scope=\"col\">Middle Position Pickup<\/th>      <th scope=\"col\">Neck Pickup<\/th>    <\/tr>  <\/thead>  <tbody>    <tr>      <th scope=\"row\">C Major Scale<\/th>      <td>        <audio controls>          <source src=\"2020-06-16-SparkReview\/CMajorGlassyBridge.mp3\" type=\"audio\/mp3\">      Your browser does not support the audio element.        <\/audio>      <\/td>      <td>        <audio controls>          <source src=\"2020-06-16-SparkReview\/CMajorGlassyBridgeNNeck.mp3\" type=\"audio\/mp3\">      Your browser does not support the audio element.        <\/audio>      <\/td>      <td>        <audio controls>          <source src=\"2020-06-16-SparkReview\/CMajorGlassyNeck.mp3\" type=\"audio\/mp3\">      Your browser does not support the audio element.        <\/audio>      <\/td>    <\/tr>    <tr>      <th scope=\"row\"><a href=\"https:\/\/youtu.be\/UVepVNuitvw\">Lick 247<\/a><\/th>      <td>        <audio controls>          <source src=\"2020-06-16-SparkReview\/Lick247GlassyBridge.mp3\" type=\"audio\/mp3\">      Your browser does not support the audio element.        <\/audio>      <\/td>      <td>        <audio controls>          <source src=\"2020-06-16-SparkReview\/Lick247GlassyBridgeNNeck.mp3\" type=\"audio\/mp3\">      Your browser does not support the audio element.        <\/audio>      <\/td>      <td>        <audio controls>          <source src=\"2020-06-16-SparkReview\/Lick247GlassyNeck.mp3\" type=\"audio\/mp3\">      Your browser does not support the audio element.        <\/audio>      <\/td>    <\/tr>        <tr>      <th scope=\"row\"><a href=\"https:\/\/youtu.be\/cuhAXtjgTos\">Lick 250<\/a><\/th>      <td>        <audio controls>          <source src=\"2020-06-16-SparkReview\/Lick250GlassyBridge.mp3\" type=\"audio\/mp3\">      Your browser does not support the audio element.        <\/audio>      <\/td>      <td>        <audio controls>          <source src=\"2020-06-16-SparkReview\/Lick250GlassyBridgeNNeck.mp3\" type=\"audio\/mp3\">      Your browser does not support the audio element.        <\/audio>      <\/td>      <td>        <audio controls>          <source src=\"2020-06-16-SparkReview\/Lick250GlassyNeck.mp3\" type=\"audio\/mp3\">      Your browser does not support the audio element.        <\/audio>      <\/td>    <\/tr>  <\/tbody><\/table><\/div><\/li><li><a id=\"sec-\" name=\"sec-\"><\/a>Crunch<br ><div class=\"outline-text-6\" id=\"text-\">    <table class=\"table table-dark\">  <thead>    <tr>      <th scope=\"col\">Lick<\/th>      <th scope=\"col\">Bridge Pickup<\/th>      <th scope=\"col\">Middle Position Pickup<\/th>      <th scope=\"col\">Neck Pickup<\/th>    <\/tr>  <\/thead> <tbody>   <tr>     <th scope=\"row\">C Major Scale<\/th>     <td>       <audio controls>         <source src=\"2020-06-16-SparkReview\/CMajorCrunchBridge.mp3\" type=\"audio\/mp3\">     Your browser does not support the audio element.       <\/audio>     <\/td>     <td>       <audio controls>         <source src=\"2020-06-16-SparkReview\/CMajorCrunchBridgeNNeck.mp3\" type=\"audio\/mp3\">     Your browser does not support the audio element.       <\/audio>     <\/td>     <td>       <audio controls>         <source src=\"2020-06-16-SparkReview\/CMajorCrunchNeck.mp3\" type=\"audio\/mp3\">     Your browser does not support the audio element.       <\/audio>     <\/td>   <\/tr>   <tr>     <th scope=\"row\"><a href=\"https:\/\/youtu.be\/UVepVNuitvw\">Lick 247<\/a><\/th>     <td>       <audio controls>         <source src=\"2020-06-16-SparkReview\/Lick247CrunchBridge.mp3\" type=\"audio\/mp3\">     Your browser does not support the audio element.       <\/audio>     <\/td>     <td>       <audio controls>         <source src=\"2020-06-16-SparkReview\/Lick247CrunchBridgeNNeck.mp3\" type=\"audio\/mp3\">     Your browser does not support the audio element.       <\/audio>     <\/td>     <td>       <audio controls>         <source src=\"2020-06-16-SparkReview\/Lick247CrunchNeck.mp3\" type=\"audio\/mp3\">     Your browser does not support the audio element.       <\/audio>     <\/td>   <\/tr>       <tr>     <th scope=\"row\"><a href=\"https:\/\/youtu.be\/cuhAXtjgTos\">Lick 250<\/a><\/th>     <td>       <audio controls>         <source src=\"2020-06-16-SparkReview\/Lick250CrunchBridge.mp3\" type=\"audio\/mp3\">     Your browser does not support the audio element.       <\/audio>     <\/td>     <td>       <audio controls>         <source src=\"2020-06-16-SparkReview\/Lick250CrunchBridgeNNeck.mp3\" type=\"audio\/mp3\">     Your browser does not support the audio element.       <\/audio>     <\/td>     <td>       <audio controls>         <source src=\"2020-06-16-SparkReview\/Lick250CrunchNeck.mp3\" type=\"audio\/mp3\">     Your browser does not support the audio element.       <\/audio>     <\/td>   <\/tr> <\/tbody><\/table><\/div><\/li><li><a id=\"sec-\" name=\"sec-\"><\/a>High Gain<br ><div class=\"outline-text-6\" id=\"text-\">    <table class=\"table table-dark\">  <thead>    <tr>      <th scope=\"col\">Lick<\/th>      <th scope=\"col\">Bridge Pickup<\/th>      <th scope=\"col\">Middle Position Pickup<\/th>      <th scope=\"col\">Neck Pickup<\/th>    <\/tr>  <\/thead>  <tbody>    <tr>      <th scope=\"row\">C Major Scale<\/th>      <td>        <audio controls>          <source src=\"2020-06-16-SparkReview\/CMajorHighGainBridge.mp3\" type=\"audio\/mp3\">      Your browser does not support the audio element.        <\/audio>      <\/td>      <td>        <audio controls>          <source src=\"2020-06-16-SparkReview\/CMajorHighGainBridgeNNeck.mp3\" type=\"audio\/mp3\">      Your browser does not support the audio element.        <\/audio>      <\/td>      <td>        <audio controls>          <source src=\"2020-06-16-SparkReview\/CMajorHighGainNeck.mp3\" type=\"audio\/mp3\">      Your browser does not support the audio element.        <\/audio>      <\/td>    <\/tr>    <tr>      <th scope=\"row\">New Level<\/th>      <td>        <audio controls>          <source src=\"2020-06-16-SparkReview\/NewLevelHighGainBridge.mp3\" type=\"audio\/mp3\">      Your browser does not support the audio element.        <\/audio>      <\/td>      <td>        <audio controls>          <source src=\"2020-06-16-SparkReview\/NewLevelHighGainBridgeNNeck.mp3\" type=\"audio\/mp3\">      Your browser does not support the audio element.        <\/audio>      <\/td>      <td>        <audio controls>          <source src=\"2020-06-16-SparkReview\/NewLevelHighGainNeck.mp3\" type=\"audio\/mp3\">      Your browser does not support the audio element.        <\/audio>      <\/td>    <\/tr>        <tr>      <th scope=\"row\">Cemetery Gates<\/th>      <td colspan=\"3\">        <audio controls>          <source src=\"2020-06-16-SparkReview\/CemeteryGatesHighGainBridge.mp3\" type=\"audio\/mp3\">      Your browser does not support the audio element.        <\/audio>      <\/td>    <\/tr>  <\/tbody><\/table><\/div><\/li><li><a id=\"sec-\" name=\"sec-\"><\/a>Metal<br ><div class=\"outline-text-6\" id=\"text-\"><table class=\"table table-dark\">  <thead>    <tr>      <th scope=\"col\">Lick<\/th>      <th scope=\"col\">Bridge Pickup<\/th>      <th scope=\"col\">Middle Position Pickup<\/th>      <th scope=\"col\">Neck Pickup<\/th>    <\/tr>  <\/thead>  <tbody>    <tr>      <th scope=\"row\">C Major Scale<\/th>      <td>        <audio controls>          <source src=\"2020-06-16-SparkReview\/CMajorMetalBridge.mp3\" type=\"audio\/mp3\">            Your browser does not support the audio element.        <\/audio>      <\/td>      <td>        <audio controls>          <source src=\"2020-06-16-SparkReview\/CMajorMetalBridgeNNeck.mp3\" type=\"audio\/mp3\">            Your browser does not support the audio element.        <\/audio>      <\/td>      <td>        <audio controls>          <source src=\"2020-06-16-SparkReview\/CMajorMetalNeck.mp3\" type=\"audio\/mp3\">            Your browser does not support the audio element.        <\/audio>      <\/td>    <\/tr>    <tr>      <th scope=\"row\">A New Level<\/th>      <td>        <audio controls>          <source src=\"2020-06-16-SparkReview\/NewLevelMetalBridge.mp3\" type=\"audio\/mp3\">            Your browser does not support the audio element.        <\/audio>      <\/td>      <td>        <audio controls>          <source src=\"2020-06-16-SparkReview\/NewLevelMetalBridgeNNeck.mp3\" type=\"audio\/mp3\">            Your browser does not support the audio element.        <\/audio>      <\/td>      <td>        <audio controls>          <source src=\"2020-06-16-SparkReview\/NewLevelMetalNeck.mp3\" type=\"audio\/mp3\">            Your browser does not support the audio element.        <\/audio>      <\/td>    <\/tr>    <tr>      <th scope=\"row\">Cemetery Gates<\/th>      <td>        <audio controls>          <source src=\"2020-06-16-SparkReview\/CemeteryGatesMetalBridge.mp3\" type=\"audio\/mp3\">            Your browser does not support the audio element.        <\/audio>      <\/td>    <\/tr>  <\/tbody><\/table><\/div><\/li><\/ul><\/div><\/div><div id=\"outline-container-ArticleContentYoutubeLinks\" class=\"outline-4\"><h4 id=\"ArticleContentYoutubeLinks\"><a id=\"sec-\" name=\"sec-\"><\/a>Other Youtube Reviews links<\/h4><div class=\"outline-text-4\" id=\"text-ArticleContentYoutubeLinks\"><ul class=\"org-ul\"><li><a href=\"https:\/\/youtu.be\/-BRU7Hd_3dI\">Review by Tom Quayle<\/a><\/li><li><a href=\"https:\/\/youtu.be\/FubvySS-Xo8\">Review by Sophie Burrell<\/a><\/li><li><a href=\"https:\/\/youtu.be\/tbSrPRI4rXM\">Review by Fluff (Riffs, Beards &amp; Gear)<\/a><\/li><li><a href=\"https:\/\/youtu.be\/6Y3zYsLfFGw\">Beat It by Kfir Ochaion<\/a><\/li><\/ul><\/div><\/div><\/div><div id=\"outline-container-ArticleConclusions\" class=\"outline-3\"><h3 id=\"ArticleConclusions\"><a id=\"sec-\" name=\"sec-\"><\/a>Conclusions<\/h3><div class=\"outline-text-3\" id=\"text-ArticleConclusions\"><p>The final judgment on the amp can\'t be anything else then a positiveone. For such a price, I really doubt you could find a product thatgives you so much flexibility in terms of tones and features(recording, playback, connectivity..).<\/p><p>I\'m not saying it\'s perfect, since the technical issues I found whilerecording are particularly annoying. Plus I didn\'t had the chance torecord a full song yet. I really hope it\'s just a software issue andthat it could be resolved with future releases of the ASIO driver.<\/p><p>In summary, If you are looking into a practice amp that is cheap,flexible and sounds great, this is definitely awesome.<\/p><p>Of course, don\'t hesitate into give me some feedback: if you havethe amp, what do you think about it, if you liked the articleetc. you can find me from the links into the main page ðŸ˜‰. Also, Imight come back here and update this article with new content in thefuture<\/p><\/div><\/div><\/div>","<div id=\"outline-container-Article\" class=\"outline-2\"><h2 id=\"Article\"><a id=\"sec-\" name=\"sec-\"><\/a>Gilded Rose Kata<\/h2><div class=\"outline-text-2\" id=\"text-Article\"><p><b>Created: <span class=\"timestamp-wrapper\"><span class=\"timestamp\">&lt;2020-06-30 Tue&gt;<\/span><\/span><\/b><\/p><\/div><div id=\"outline-container-ArticleAbstract\" class=\"outline-3\"><h3 id=\"ArticleAbstract\"><a id=\"sec-\" name=\"sec-\"><\/a>Abstract<\/h3><div class=\"outline-text-3\" id=\"text-ArticleAbstract\"><p>Not so long ago. I watched the mighty <a href=\"https:\/\/twitter.com\/NicolasRinaudo\">Nicolas Rinaudo<\/a> dealing withthe <a href=\"https:\/\/github.com\/emilybache\/GildedRose-Refactoring-Kata\">Gilded Rose Kata<\/a> on the <a href=\"https:\/\/www.twitch.tv\/scalalove\">Scalalove\'s twitch channel<\/a>, and thatinspired me into trying it out using my favorite languages: Scala &amp;Haskell.<\/p><p>I\'ll structure the article in this way:<\/p><ol class=\"org-ol\"><li>I get familiar with the actual code-base, analyze it, andexplain what are the (main) flaws I can see.<\/li><li>Following the previous point, I write down the approach I\'lluse.<\/li><li>Execution time with a brief log journal of what was done.<\/li><li>Then, It\'s time to point out the difficulties I have found withboth Scala and Haskell and I will try to do a comparison between thetwo.<\/li><\/ol><p>Both points 1 and 2 will be language-independent<\/p><\/div><\/div><div id=\"outline-container-ArticleContent\" class=\"outline-3\"><h3 id=\"ArticleContent\"><a id=\"sec-\" name=\"sec-\"><\/a>Content<\/h3><div class=\"outline-text-3\" id=\"text-ArticleContent\"><\/div><div id=\"outline-container-CodebaseStateContent\" class=\"outline-4\"><h4 id=\"CodebaseStateContent\"><a id=\"sec-\" name=\"sec-\"><\/a>Codebase State<\/h4><div class=\"outline-text-4\" id=\"text-CodebaseStateContent\"><p>In order to write this section, I just need to access the <a href=\"https:\/\/github.com\/emilybache\/GildedRose-Refactoring-Kata\">Github katarepo<\/a> and do a good, old, code review. I will take Scala as areference since I feel more comfortable with the technology.<\/p><p><b>Disclaimer:<\/b> this code is intentionally bad. If you will everencounter a code-base like this one in your life, listen to me&#x2026;<\/p><iframe src=\"https:\/\/giphy.com\/embed\/A6PcmRqkyMOBy\" width=\"480\" height=\"224\" frameBorder=\"0\" class=\"giphy-embed\" allowFullScreen><\/iframe><p>let\'s start&#x2026;<\/p><p>First thing first, I see there are no tests. That needs to befixed ASAP. We will talk about that in the <a href=\"#SolutionApproachTestsContent\">specific section<\/a>.<\/p><p>Then, I see an attempt of a <i><a href=\"https:\/\/en.wikipedia.org\/wiki\/Domain_model\">Domain Model<\/a><\/i>. That\'s actually a goodpractice: design your types first and be as picky as possible inorder to <a href=\"https:\/\/fsharpforfunandprofit.com\/posts\/designing-with-types-making-illegal-states-unrepresentable\/\">make the illegal states unrepresentable<\/a>. The problems hereare several<\/p><ul class=\"org-ul\"><li>The <code>var<\/code> keyword, that means mutability. As a software engineer, Iknow that mutable state can be hard to manage and lead to unintendedbehaviours. Doing a quick sneak peek to the Haskell code I seethere\'s none. Mutation is possible in Haskell too, but luckily we gotspared this time. I will talk a little bit more about mutationin the <a href=\"#LaguagesComparisonConclusions\">Languages Comparison Section<\/a>.<\/li><li>Just Item Type!! There are two possible cases for this: the problem isextremely simple or we are missing some types here.<\/li><li>No validations. I expect to see some data validation hidingsomewhere in the algorithm. Basically every piece of code has itbecause we need to ensure that the values we are going to manageremains valid throughout the program execution.<\/li><\/ul><p>Regarding the main algorithm, we have:<\/p><ol class=\"org-ol\"><li>One giant function. OK, that is, in the end, what the CPU willexecute: 1 operation at a time(mono-core,single-thread). However, the code needs to behuman-readable. <i>Any fool can write code that a computer can understand. Good programmers write code that humans can understand.<\/i> (Martin Fowler) Plus, it violates the <a href=\"https:\/\/en.wikipedia.org\/wiki\/Single-responsibility_principle\">SingleResponsibility Principle<\/a>.<\/li><li>Mutation again! Apart from the items fields, that was expected,there\'s also into the index variable <code>i<\/code>. Luckily, it is justused to select the current element to evaluate, it could havebeen way worse, like a different algorithm for odd and evenelements, checks on the index, and so on. ðŸ˜–<\/li><li>There should be Types and a compiler somewhere, but I don\'t seeany usage of those in here. The code is nearly indistinguishablefrom Javascript.<\/li><li>Nested Ifs statements.<\/li><\/ol><\/div><\/div><div id=\"outline-container-SolutionApproachContent\" class=\"outline-4\"><h4 id=\"SolutionApproachContent\"><a id=\"sec-\" name=\"sec-\"><\/a>Solution Approach<\/h4><div class=\"outline-text-4\" id=\"text-SolutionApproachContent\"><p>After the code review we know the issues of the code and we cancome up with a plan. Here, I\'ll prioritise the tasks we need to doin order to make this code better and solve the Kata.<\/p><\/div><div id=\"outline-container-SolutionApproachTestsContent\" class=\"outline-5\"><h5 id=\"SolutionApproachTestsContent\"><a id=\"sec-\" name=\"sec-\"><\/a>Tests<\/h5><div class=\"outline-text-5\" id=\"text-SolutionApproachTestsContent\"><p>The first task needed is a good test suite. With proper testing, wewill be sure that the changes we are going to make arecorrect. After all, the definition of <i><a href=\"https:\/\/en.wikipedia.org\/wiki\/Code_refactoring\">Code Refactoring<\/a><\/i> is to <b>NOT<\/b>change the program behavior.<\/p><p>Now, the test suite can be crafted using multiple techniques and it\'s ahuge topic by itself. In this case, testing is not the main focus ofthe kata but still key. Fortunately, it\'s a simple, little, localprogram. So we should be fine with just <i><a href=\"https:\/\/en.wikipedia.org\/wiki\/Unit_testing\">Unit Testing<\/a><\/i> and <i><a href=\"https:\/\/en.wikipedia.org\/wiki\/System_testing\">System Testing<\/a><\/i>.<\/p><p>Usually, testing is done by providing some specific input data tothe program, fetch the result of the computation, and thencompare it with what is expected. That\'s completely fine and it\'swhat the majority of the companies do nowadays. The downside ofthis approach is: it\'s static. Let say your program has a bug andwill crash under specific conditions, for a corner case youdidn\'t think about, testing by example will not help you there ifyou didn\'t catch that specific case beforehand.<\/p><p>A different approach I like more is <a href=\"https:\/\/en.wikipedia.org\/wiki\/Property_testing\">Property Testing<\/a>, where theinput data is <b>generated<\/b>. The software engineer defines theinput generation rules, used by the supporting library\/framework,and then the expected behavior as a property. I won\'t go deeperinto it, but the typical example is the <i>associativity law<\/i> ofthe sum. Definitely, the most complicated part is to identify theproperties of your program, but in my honest opinion, I still seebenefits in just take advantage of the generated inputs andhaving a \"normal\" test built on top. Having to write your testonce and run them multiple times with several inputs, it\'sstraight away a big plus.<\/p><p>Another downside of this approach is the computational cost:generating inputs and having multiple runs will increase thetesting time. In fact, if you mess up the way you generate yourinput, you couldn\'t even be able to run your test at all,obtaining the \"infinite loop effect\" at the time ofexecution. For example, I learnt by experience that, operatorslike <code>suchAs<\/code> must be used very carefully.<\/p><p><b><b>Edit:<\/b><\/b> Since we have even the specs of the program theproperty base testing fits super nicely: convert phrases like<\/p><p><i>â€œSulfurasâ€, being a legendary item, never has to be sold ordecreases in Quality<\/i><\/p><p>becomes quite a natural process.<\/p><\/div><\/div><div id=\"outline-container-SolutionApproachSplitMonsterContent\" class=\"outline-5\"><h5 id=\"SolutionApproachSplitMonsterContent\"><a id=\"sec-\" name=\"sec-\"><\/a>Split the Monster<\/h5><div class=\"outline-text-5\" id=\"text-SolutionApproachSplitMonsterContent\"><p>Once we have the testing set up properly, we can start to breakstuff using the ðŸ”¨.<\/p><p>The Most annoying thing in the codebase is the giantstand-alone function. I will tackle this by splitting thatfunction into two or more sub-functions. Then, repeat the sameapproach for the outcoming functions. This recursive processwill terminate when the functions I end up with have a smallnumber of lines of code and one single mutation in it, simple asthat.<\/p><p>A little but key detail in all of this is that each function willreturn a value, and the parent function will be a composition ofits child.<\/p><p>This works well when you have 2 consecutive if-statements or anif-else-statement:<\/p><div class=\"org-src-container\"><pre class=\"src src-scala\"><span style=\"color: #ff7f24;\">\/\/ <\/span><span style=\"color: #ff7f24;\">Before<\/span><span style=\"color: #00ffff;\">if<\/span> (condition1) {  <span style=\"color: #00ffff;\">if<\/span> (condition3) {   <span style=\"color: #ff7f24;\">\/\/ <\/span><span style=\"color: #ff7f24;\">Stuff<\/span>  } <span style=\"color: #00ffff;\">else<\/span> <span style=\"color: #ff7f24;\">\/\/ <\/span><span style=\"color: #ff7f24;\">Stuff<\/span>}<span style=\"color: #00ffff;\">if<\/span> (condition2) {<span style=\"color: #ff7f24;\">\/\/ <\/span><span style=\"color: #ff7f24;\">Stuff<\/span>} <span style=\"color: #00ffff;\">else<\/span> <span style=\"color: #ff7f24;\">\/\/ <\/span><span style=\"color: #ff7f24;\">Stuff<\/span><span style=\"color: #ff7f24;\">\/\/ <\/span><span style=\"color: #ff7f24;\">After<\/span><span style=\"color: #00ffff;\">def<\/span> <span style=\"color: #87cefa;\">f1<\/span>(params)<span style=\"color: #00ffff;\">:<\/span> <span style=\"color: #98fb98;\">StuffType<\/span> <span style=\"color: #00ffff;\">=<\/span> <span style=\"color: #00ffff;\">if<\/span> (condition1) { f3(params) } <span style=\"color: #00ffff;\">else<\/span> <span style=\"color: #ff7f24;\">\/\/ <\/span><span style=\"color: #ff7f24;\">Previous state (identity)<\/span><span style=\"color: #00ffff;\">def<\/span> <span style=\"color: #87cefa;\">f2<\/span>(params)<span style=\"color: #00ffff;\">:<\/span> <span style=\"color: #98fb98;\">StuffType<\/span> <span style=\"color: #00ffff;\">=<\/span> <span style=\"color: #00ffff;\">if<\/span> (condition2) {<span style=\"color: #ff7f24;\">\/* <\/span><span style=\"color: #ff7f24;\">Stuff *\/<\/span> } <span style=\"color: #00ffff;\">else<\/span> <span style=\"color: #ff7f24;\">\/\/ <\/span><span style=\"color: #ff7f24;\">Stuff<\/span><span style=\"color: #00ffff;\">def<\/span> <span style=\"color: #87cefa;\">f3<\/span>(params)<span style=\"color: #00ffff;\">:<\/span> <span style=\"color: #98fb98;\">StuffType<\/span> <span style=\"color: #00ffff;\">=<\/span> <span style=\"color: #00ffff;\">if<\/span> (condition3) {<span style=\"color: #ff7f24;\">\/* <\/span><span style=\"color: #ff7f24;\">Stuff *\/<\/span> } <span style=\"color: #00ffff;\">else<\/span> <span style=\"color: #ff7f24;\">\/\/ <\/span><span style=\"color: #ff7f24;\">Stuff<\/span><span style=\"color: #00ffff;\">val<\/span> <span style=\"color: #eedd82;\">r1<\/span> <span style=\"color: #00ffff;\">=<\/span> f1(args)<span style=\"color: #00ffff;\">val<\/span> <span style=\"color: #eedd82;\">r2<\/span> <span style=\"color: #00ffff;\">=<\/span> f2(args) <span style=\"color: #ff7f24;\">\/\/ <\/span><span style=\"color: #ff7f24;\">This might probably require r1 as input<\/span>r2<\/pre><\/div><p>This might seems controversial and more complicated, but it helpsto put the computations in context. This way, you don\'t need togo and look into the content of the functions, you can just skiptheir implementation details and get an overall feeling of thedata-flow. Plus, you could not realize it yet, but doing so, wealso put types back into play!<\/p><p>You might also notice I added an else to the first if, that\'sbecause I want the wrapping function to actually return a typeand, since there wasn\'t an else in that case, the result will bethe previous input. When the else branch is chosen the <code>f1<\/code>function will behave as the <a href=\"https:\/\/en.wikipedia.org\/wiki\/Identity_function\">Identity Function<\/a>.<\/p><p>In the very end, I want also to grab your attention on the waythis approach penetrates the nested ifs and allows us to collapse thestructure. Of course, we could also merge <code>condition1<\/code> and<code>condition3<\/code>, and we might actually decide to do that in a laterstage, but let us suppose we will discover that the same logic of<code>f3<\/code> is reused. This way we can just call <code>f3<\/code> since it\'sindependent from the rest.<\/p><p><b>Edit:<\/b> a very important aspect when comes to refactoring is KNOWWHEN TO COMMIT. In my opinion, the right time is when all of thefollowing conditions hold:<\/p><ol class=\"org-ol\"><li>Your tests are green<\/li><li>You are not in the middle of a change (you know what to donext)<\/li><li>You are on stand-by, thinking about the next move (related topoint 2)<\/li><\/ol><p>Doing like that will ensure that you commit quite often and youcan roll back to a <i>safe-state<\/i> without loosing too muchtime. Otherwise, you might don\'t want to roll back because yourlast commit was 2h ago, but you can\'t keep up because you arestuck for some reason.<\/p><p><b>Edit:<\/b> Since this specific problem is mainly just nested if, atsome point, we actually want to merge them together and collapsesome of the independent functions into one. You might think thatwe will roll back to the start, but we can instead takeadvantage of specific language constructs, like pattern matching,to keep the structure flat.<\/p><\/div><\/div><div id=\"outline-container-SolutionApproachMutationContent\" class=\"outline-5\"><h5 id=\"SolutionApproachMutationContent\"><a id=\"sec-\" name=\"sec-\"><\/a>Dealing With Mutation once and for All<\/h5><div class=\"outline-text-5\" id=\"text-SolutionApproachMutationContent\"><p>Everything is in its own box, each one returning a value ðŸ’œ,However&#x2026; it still mutates and internal field!! ðŸ˜ž<\/p><p>Anyway, due to the previous steps, we can easily remove thatmutation from the algorithm and the model itself, returning a newcopy of the input with the requested changes.<\/p><p><b><b>Edit:<\/b><\/b> Reading the specification I found I\'m not allowed to  touch the <code>Item<\/code> class, unfortunately. Then, this step will  remain theoretic. What we can do is to add other types around  the main one, those will helps us to structure our code and  give to each bit of logic its own context.<\/p><\/div><\/div><div id=\"outline-container-SolutionApproachRefinementNewFeatureContent\" class=\"outline-5\"><h5 id=\"SolutionApproachRefinementNewFeatureContent\"><a id=\"sec-\" name=\"sec-\"><\/a>Refinement &amp; New feature<\/h5><div class=\"outline-text-5\" id=\"text-SolutionApproachRefinementNewFeatureContent\"><p>Finally, with this new working codebase, we should be able to:<\/p><ul class=\"org-ul\"><li>Merging condition together.<\/li><li>Adding fields validation or other helpful functions,<\/li><li>Adding new types.<\/li><li>Structuring the code: moving the functions to the model companionobjects, in case of Scala, or to a separate module.<\/li><\/ul><p>Once the code is finally in good shape, we can:<\/p><ol class=\"org-ol\"><li>See some pattern emerge clearly and properly design the restof the code to expose them: moving the logic to proper newtypes that communicate the intention of the code.<\/li><li>easily add the new feature. It should be quite simple sincethe new item to evaluate, require a logic that is already sharedwith another item.<\/li><\/ol><p>Now that we have a plan, let\'s start the fun part&#x2026;let\'sexecuted it!<\/p><p><b><b>Edit:<\/b><\/b> Sometimes you need to do some refinements listedhere even in earlier stages because, doing it earlier, helps youvery much rather then postpone the change. Anyway, my suggestion is torefine as little as possible in the beginning, only when it\'s necessary.<\/p><\/div><\/div><\/div><div id=\"outline-container-ScalaContent\" class=\"outline-4\"><h4 id=\"ScalaContent\"><a id=\"sec-\" name=\"sec-\"><\/a>Scala Kata<\/h4><div class=\"outline-text-4\" id=\"text-ScalaContent\"><p><span class=\"timestamp-wrapper\"><span class=\"timestamp\">&lt;2020-07-02 Thu&gt;<\/span><\/span>: Started the scala exercise from testing and<a href=\"https:\/\/www.scalacheck.org\/\">Scalacheck<\/a>. Get stuck on some test corner case, but with some<code>println<\/code> I figured it out. <a href=\"https:\/\/github.com\/benkio\/GeneralExercises\/commit\/8e066e5cc678518f6f10147f7280969dce245be2\">commit<\/a><\/p><p><span class=\"timestamp-wrapper\"><span class=\"timestamp\">&lt;2020-07-03 Fri&gt;<\/span><\/span>: Finished Scala\'s tests. Fixed some errors inthe making. Now we can move to the actual code. <a href=\"https:\/\/github.com\/benkio\/GeneralExercises\/commit\/19c8b9e\">commit<\/a><\/p><p><span class=\"timestamp-wrapper\"><span class=\"timestamp\">&lt;2020-07-04 Sat&gt;<\/span><\/span>: split the monster. now I have severalfunctions, returning Items containing only one if statement asa body. No more if indentation anywhere. Plus:<\/p><ul class=\"org-ul\"><li>Introduced new types wrapper and aliases for the fields<\/li><li>Defer\/remove mutation as much as possible. Only at the end ofthe <code>foreach<\/code>.<\/li><li>Extracted main operation on types to companion objects.<\/li><li>Merged the functions into one calling only basic operations<\/li><\/ul><p><a href=\"https:\/\/github.com\/benkio\/GeneralExercises\/commit\/9fdc7be\">commit<\/a><\/p><p><span class=\"timestamp-wrapper\"><span class=\"timestamp\">&lt;2020-07-05 Sun&gt;<\/span><\/span>: Since the specs just tell us to not touch the<code>Item<\/code> class, I can change the return type of the <code>updateQuality<\/code>to be the new value. In this way, we avoid mutation of the itemarray. After that, we can see the pattern composed by apre-quality calculation, an increase in sellIn value, a finaladjustment. Then, we can create subtypes of the item class and putthe specific logic into each class. This way we can get rid of thebig remaining functions. Afterward, we can add the new class forthe new item easily. Work is done! <a href=\"https:\/\/github.com\/benkio\/GeneralExercises\/commit\/03ac121\">commit<\/a><\/p><hr\/><p>I just tried to reproduce the counterintuitive behavior I facedwhen subtyping, but when I went to <a href=\"https:\/\/scastie.scala-lang.org\/\">Scastie<\/a>, the code behaved asexpected. This makes it even most weird ðŸ¤” if you are a programmer,you know these kinds of things happens from time to time.<\/p><\/div><\/div><div id=\"outline-container-HaskellContent\" class=\"outline-4\"><h4 id=\"HaskellContent\"><a id=\"sec-\" name=\"sec-\"><\/a>Haskell Kata<\/h4><div class=\"outline-text-4\" id=\"text-HaskellContent\"><p><span class=\"timestamp-wrapper\"><span class=\"timestamp\">&lt;2020-07-08 Wed&gt;<\/span><\/span>: Started the tests: Sulfuras + AgedBrie. <a href=\"https:\/\/github.com\/benkio\/GeneralExercises\/commit\/ea0b859\">commit<\/a><\/p><p><span class=\"timestamp-wrapper\"><span class=\"timestamp\">&lt;2020-07-13 Mon&gt;<\/span><\/span>: Added the BackstagePasses test + testrefactoring <a href=\"https:\/\/github.com\/benkio\/GeneralExercises\/commit\/8a9a98b\">commit<\/a><\/p><p><span class=\"timestamp-wrapper\"><span class=\"timestamp\">&lt;2020-07-14 Tue&gt;<\/span><\/span>: Test completed. <a href=\"https:\/\/github.com\/benkio\/GeneralExercises\/commit\/f19fa11\">commit<\/a><\/p><p><span class=\"timestamp-wrapper\"><span class=\"timestamp\">&lt;2020-07-15 Wed&gt;<\/span><\/span>: Started to split the monster. AddedHlint, you can\'t imagine how many <i>redundant brackets<\/i> I removed. <a href=\"https:\/\/github.com\/benkio\/GeneralExercises\/commit\/acce770\">commit<\/a><\/p><p><span class=\"timestamp-wrapper\"><span class=\"timestamp\">&lt;2020-07-16 Thu&gt;<\/span><\/span>: Add a <code>newtype<\/code> for the quality field, add thespecial item type, setup the <code>HasQuality<\/code> typeclass, merged iffunctions together into a guard function. <a href=\"https:\/\/github.com\/benkio\/GeneralExercises\/commit\/89db36e\">commit<\/a><\/p><p><span class=\"timestamp-wrapper\"><span class=\"timestamp\">&lt;2020-07-16 Thu&gt;<\/span><\/span>:<\/p><ul class=\"org-ul\"><li>Implemented typeclass instances and used instead of plainfunctions<\/li><li>Moved all the logic about items in a separate file<\/li><li>Finished the refactoring<\/li><li>Added the new special item Conjured<\/li><li>Added the new test<\/li><li>Implemented the type class instances<\/li><\/ul><p><b>KATA DONE<\/b> <a href=\"https:\/\/github.com\/benkio\/GeneralExercises\/commit\/9205f58\">commit<\/a><\/p><\/div><\/div><\/div><div id=\"outline-container-ArticleConclusions\" class=\"outline-3\"><h3 id=\"ArticleConclusions\"><a id=\"sec-\" name=\"sec-\"><\/a>Conclusions<\/h3><div class=\"outline-text-3\" id=\"text-ArticleConclusions\"><\/div><div id=\"outline-container-MainChallengesConclusion\" class=\"outline-4\"><h4 id=\"MainChallengesConclusion\"><a id=\"sec-\" name=\"sec-\"><\/a>Main Challenges<\/h4><div class=\"outline-text-4\" id=\"text-MainChallengesConclusion\"><p>The first challenge that comes into my mind is testcrafting. During this kata you really understand the importance ofhaving a very well done test code. Most of the time we think testcode is B-class code, but this kata shows it\'s not. It needs to bevery fine-tuned and precise in order to catch bugs ahead oftime. Plus, test-code is code you need to maintain and writedaily, to write your feature. That makes it on the same level ofimportance as the production code.<\/p><p>I agree it\'s not great fun to write such code, that\'s why Isuggest using the compiler as much as possible to reduce thedesign space and the amount of tests you need to write to coveryour application.<\/p><p>A second relevant challenge is about beingdisciplined. Refactoring consists of very small changes, but this isnot always possible. Sometimes, you need to break quite some amountof code at once, but that must be an exception to the regularrefactoring process. What can happen is that we might see multipleapplicable improvements at the same time. Therefore, we aretempted to apply them all at once, instead, we should hold backand do one single, small, consistent change, commit it, and thenmove on to the next. This requires great self-discipline.<\/p><p>Finally, the last challenge is definitely <i>dependencies<\/i>. When youhave constraints from different libraries or legacy code thatyou are not allowed to change, it makes things very difficult andrequires you to put workarounds in place. That defiles the goal ofrefactoring itself. This shows the importance of keeping projectssmall and self-contained as much as possible, with the minimal setof dependencies as possible.<\/p><\/div><\/div><div id=\"outline-container-LaguagesComparisonConclusions\" class=\"outline-4\"><h4 id=\"LaguagesComparisonConclusions\"><a id=\"sec-\" name=\"sec-\"><\/a>Languages Comparison<\/h4><div class=\"outline-text-4\" id=\"text-LaguagesComparisonConclusions\"><p>Before diving into the differences I found between the twotechnologies, I need to do a little disclaimer in order to give tomy follow-up words a little bit of context. What I will write is apersonal opinion, after all, it\'s not based on facts, but onpersonal experience. Therefore, it depends on: my emotionsthroughout the exercise, how fluent I am on both languages, and howmuch I know about the problem (the order in which I solved thekata might have influenced me). Probably this disclaimer should have beenplaced at the very start of this article ðŸ˜º.<\/p><p>One of the first differences I felt, when dealing with tests inHaskell, was that I was pushed way more into abstracting thingscompared to Scala and I might figure out why.<\/p><p>In Scala, if a test fails, what I usually do to debug it is:putting a break point or a <code>println<\/code> and see what is the input tothe test, the result an so on. Once I know what is going on, it\'susually an easy fix: the generator wasn\'t right, the successcondition wasn\'t correct etc.<\/p><p>This approach doesn\'t hold in Haskell because you can\'t put asimple <code>println<\/code> into the test, so you need to work differentlyand, as a result, you end up with better code. The only way toinspect your test is to use the REPL and, when you get into it,you want to be able to execute exactly the bit of code you areinterested in, the minimal amount of code where the bug mighthide. To achieve this goal you need to extract the logic of yourtests into small functions and enhance the re-usability as much aspossible. This should always be the case, for whatever languageyou are using, but I strongly believe that, if something is notforced by the technology and the responsibility of \"doing theright thing\" is on the shoulder of the developer, laziness andnegligence will eventually sometimes kick in and drive it to asub-optimal result.<\/p><p>Moving on, the next difference, we can see from the initialcodebase status that Haskell comes with immutability straightaway. Even if it doesn\'t seem very important, this is a bigimprovement, especially when things scale up in size. Then, youcould achieve mutation in Haskell as well using specificconstructions like <a href=\"https:\/\/www.oreilly.com\/library\/view\/parallel-and-concurrent\/9781449335939\/ch07.html\">MVar<\/a> or <a href=\"https:\/\/wiki.haskell.org\/Software_transactional_memory\">STM<\/a> (used mainly for concurrencypurposes), but even then, mutation is enclosed and accessibleunder a specific contract where particular constraints hold.<\/p><p>Moreover, I found the starting impact of the refactoring lessscary than the Scala one. I guess the reason is because Ialready know the context, but I was able to give a meaningful nameto the extracted functions straight away because of the usage ofthe <code>where<\/code> and <code>let-in<\/code> constructs.<\/p><div class=\"org-src-container\"><pre class=\"src src-haskell\">    src<span style=\"color: #eedd82;\">\/<\/span>GildedRose.hs<span style=\"color: #98fb98;\">:<\/span>53<span style=\"color: #98fb98;\">:<\/span>29<span style=\"color: #98fb98;\">:<\/span> <span style=\"color: #98fb98;\">Warning:<\/span> <span style=\"color: #98fb98;\">Redundant<\/span> <span style=\"color: #00ffff;\">if<\/span><span style=\"color: #98fb98;\">Found<\/span><span style=\"color: #87cefa;\">:<\/span>  <span style=\"color: #00ffff;\">if<\/span> sellIn <span style=\"color: #eedd82;\">&lt;<\/span> 6 <span style=\"color: #00ffff;\">then<\/span> <span style=\"color: #00ffff;\">if<\/span> quality <span style=\"color: #eedd82;\">&lt;<\/span> 48 <span style=\"color: #00ffff;\">then<\/span> 1 <span style=\"color: #00ffff;\">else<\/span> 0 <span style=\"color: #00ffff;\">else<\/span> 0<span style=\"color: #98fb98;\">Perhaps<\/span><span style=\"color: #87cefa;\">:<\/span>  <span style=\"color: #00ffff;\">if<\/span> (sellIn <span style=\"color: #eedd82;\">&lt;<\/span> 6) <span style=\"color: #eedd82;\">&amp;&amp;<\/span> (quality <span style=\"color: #eedd82;\">&lt;<\/span> 48) <span style=\"color: #00ffff;\">then<\/span> 1 <span style=\"color: #00ffff;\">else<\/span> 0<\/pre><\/div><p><b><a href=\"https:\/\/github.com\/ndmitchell\/hlint\">Hlint<\/a> is cheating in this exercise<\/b> and it works only becauseeach redundant ifs has to return a value. Scala also has similartools, like <a href=\"https:\/\/github.com\/scalacenter\/scalafix\">Scalafix<\/a>, but it slipped out of my mind. With it, Iwould have struggled less.<\/p><p>A downside of plain Haskell, in comparison to Scala, is the amountof machinery you have to create in order to do simple things, suchas just access fields. Don\'t get me wrong here, I\'m sure thatthrough some specific compiler extension, or using <a href=\"http:\/\/wiki.haskell.org\/Template_Haskell\">TemplateHaskell<\/a>, a cleaver\/experienced haskeller can easily overcome thislimitation, auto-generating instances for example. Anyway, I\'m nota great Haskell developer and I just wanted to compare the twolanguages out of the box, with minimal overhead possible. Apossible justification I can think of is that Haskell prefers tokeep a minimal core, and then it allow you to integrate thelanguage using external modules\/extensions\/libraries. As a result,it\'s often told that Commercial Haskell is far different from theplain language, due to the high amount of pieces involved thatcompletely turn upside-down the syntax.<\/p><\/div><\/div><div id=\"outline-container-LaguagesComparisonConclusions\" class=\"outline-4\"><h4 id=\"LaguagesComparisonConclusions\"><a id=\"sec-\" name=\"sec-\"><\/a>Final words<\/h4><div class=\"outline-text-4\" id=\"text-LaguagesComparisonConclusions\"><p>To be completely honest I must say that most of the concepts Ishowed here are quite old and you can find them into details fromseveral famous books, such as <a href=\"https:\/\/martinfowler.com\/books\/refactoring.html\">Refactoring by Martin Fowler<\/a>.<\/p><p>Anyway you can see here is the application of some of thoseprinciples, plus how picking a FP based technology can speed upthe process by a lot.<\/p><p>I really hope you enjoyed reading this article and expired you intotrying this kata, especially if you aren\'t confident withRefactoring practices.<\/p><\/div><\/div><\/div><\/div>","<div id=\"outline-container-Article\" class=\"outline-2\"><h2 id=\"Article\"><a id=\"sec-\" name=\"sec-\"><\/a>Project Euler<\/h2><div class=\"outline-text-2\" id=\"text-Article\"><p><b>Created: <span class=\"timestamp-wrapper\"><span class=\"timestamp\">&lt;2020-07-20 Mon&gt;<\/span><\/span><\/b><\/p><\/div><div id=\"outline-container-ArticleAbstract\" class=\"outline-3\"><h3 id=\"ArticleAbstract\"><a id=\"sec-\" name=\"sec-\"><\/a>Abstract<\/h3><div class=\"outline-text-3\" id=\"text-ArticleAbstract\"><p><a href=\"https:\/\/projecteuler.net\/\">Project Euler<\/a> is a collection of math based problems you can try tosolve using a programming language, for fun.<\/p><img src=\"https:\/\/mliumztazidk.i.optimole.com\/5yrf4Xo-0ZmlwmlF\/w:auto\/h:auto\/q:auto\/https:\/\/epjapanesey.com\/wp-content\/uploads\/2019\/04\/Saitamas-Quote-Im-A-Guy-Whos-A-Hero-For-Fun.png\" style=\"width:50%; max-height: 300px\"><\/img><p>Therefore I decided to start doing some of them, using haskell as alanguage. That\'s quite similar to other site like <a href=\"https:\/\/www.hackerrank.com\/\">HackerRank<\/a>. Youmight want to look at them if you are searching a way to trainyourself on a specific language, plus learn some math in theprocess.<\/p><\/div><\/div><div id=\"outline-container-ArticleContent\" class=\"outline-3\"><h3 id=\"ArticleContent\"><a id=\"sec-\" name=\"sec-\"><\/a>Content<\/h3><div class=\"outline-text-3\" id=\"text-ArticleContent\"><\/div><\/div><div id=\"outline-container-ArticleConclusions\" class=\"outline-3\"><h3 id=\"ArticleConclusions\"><a id=\"sec-\" name=\"sec-\"><\/a>Conclusions<\/h3><div class=\"outline-text-3\" id=\"text-ArticleConclusions\"><\/div><\/div><\/div>"];
var htmlArticlesPaths = ["./articles/2020-06-11-OrgBlog.html","./articles/2020-06-16-SparkReview.html","./articles/2020-06-30-GildedRoseKata.html","./articles/2020-07-20-ProjectEuler.html"];
</script>

<script type="text/javascript">
const page = ((new URLSearchParams(window.location.search).get('page') || 1) - 1) * 5;
const perPage = 5;
for (var i = 0; i < (htmlArticles.length/perPage); i++) {
    var active = "";
    if ((page/perPage) == i) {
        active = "class='active'";
    }
    $("#pagination").append(
        '<li ' + active + '><a href="' + window.location.href.split('?')[0] + '?page=' + (i+1) + '">' + (i+1) + '</a></li>'
    );
}
</script>

<script type="text/javascript">
// Pagination 0 based
const htmlArticlesPaginated = htmlArticles.slice(page, page + perPage);
const htmlArticlesPathsPaginated = htmlArticlesPaths.slice(page, page + perPage);

var articleDivs = $("[data-include]").map(function() { return this.id; });

var articlesZip = [];
var articlesElementsZip = [];

for (var i = 0; i < htmlArticlesPaginated.length; i++) {
    articlesZip.push([htmlArticlesPaginated[i], htmlArticlesPathsPaginated[i]]);
}

var htmlArticlesTitle = articlesZip.map(function(tuple) {
  const [articleContent, articlePath] = tuple;
  return $($.parseHTML(articleContent)).find("#Article").wrap(function (){
    return "<a href='" + articlePath + "'></a>"
  }).parent();
});

var htmlArticlesAbstract = htmlArticlesPaginated.map(function(articleContent) {
  return $($.parseHTML(articleContent)).find("#outline-container-ArticleAbstract");
});

for (var i = 0; i < htmlArticlesPaginated.length; i++) {
    articlesElementsZip.push([articleDivs[i], htmlArticlesTitle[i], htmlArticlesAbstract[i]]);
}

articlesElementsZip.forEach(function(tuple) {
    const [element, title, abstract] = tuple;
    $("#" + element).html($('<div>').append(title).append(abstract));
});

</script>
</div>
</div>
</div></div></div>
</body>
</html>
