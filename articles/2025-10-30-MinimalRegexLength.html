<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2025-12-09 Tue 11:59 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Shortest String Length Matching a Regexp</title>
<meta name="author" content="Enrico Benini" />
<meta name="description" content="Shortest String Length Matching a Regexp" />
<meta name="keywords" content="Shortest String Length Matching a Regexp" />
<meta name="generator" content="Org Mode" />
<link rel="shortcut icon" href="../images/favicon.ico" type="image/x-icon">
<link rel="icon" href="../images/favicon.ico" type="image/x-icon">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.0/css/all.min.css">
<link href="https://fonts.googleapis.com/css?family=Montserrat" rel="stylesheet" type="text/css">
<link href="https://fonts.googleapis.com/css?family=Lato" rel="stylesheet" type="text/css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"/>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
<link rel="stylesheet" href="../css/main.css">
<link rel="stylesheet" href="../css/blog.css">
<link rel="stylesheet" href="../css/article.css">
<script>
// @license magnet:?xt=urn:btih:1f739d935676111cfff4b4693e3816e664797050&amp;dn=gpl-3.0.txt GPL-v3-or-Later
     function CodeHighlightOn(elem, id)
     {
       var target = document.getElementById(id);
       if(null != target) {
         elem.classList.add("code-highlighted");
         target.classList.add("code-highlighted");
       }
     }
     function CodeHighlightOff(elem, id)
     {
       var target = document.getElementById(id);
       if(null != target) {
         elem.classList.remove("code-highlighted");
         target.classList.remove("code-highlighted");
       }
     }
// @license-end
</script>
</head>
<body>
<div id="content" class="content">
<h1 class="title">Shortest String Length Matching a Regexp</h1>
<nav id="outline-container-navbar" class="outline-2 navbar bg-dark border-bottom border-body navbar-fixed-top navbar-expand-lg bg-body-tertiary">
<h2 id="navbar">Blog</h2>
<div class="outline-text-2" id="text-navbar">
<a target="_self" class="navbar-brand" href="/index.html">
  <img class="img-circle rounded-circle" src="https://www.gravatar.com/avatar/aa7f68a32b011ac94698a7a1cb16ffc8?s=200" width="50px"/>
</a>
<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
  <span class="navbar-toggler-icon"></span>
</button>
<div class="collapse navbar-collapse" id="navbarSupportedContent">
  <ul class="navbar-nav me-auto mb-2 mb-lg-0 mx-2">
    <li class="nav-item mx-2"> <a class="nav-link fs-4 active"        aria-current="page" target="_self" href="/blog.html">Blog</a> </li>
    <li class="nav-item mx-2"> <a class="nav-link fs-4 "        aria-current="page" target="_self" href="/articles.html">Articles</a> </li>
    <li class="nav-item mx-2"> <a class="nav-link fs-4 "        aria-current="page" target="_self" href="/books.html">Books</a> </li>
    <li class="nav-item mx-2"> <a class="nav-link fs-4 " aria-current="page" target="_self" href="/albums.html">Albums</a> </li>
    <li class="nav-item mx-2"> <a class="nav-link fs-4 "        aria-current="page" target="_self" href="/NoteTrainer/NoteTrainer.html">Note Trainer</a> </li>
  </ul>
</div>
</div>
</nav>
<div id="outline-container-Article" class="outline-2 row container-md py-4 m-auto">
<h2 id="Article">Shortest String Length Matching a Regexp</h2>
<div class="outline-text-2" id="text-Article">
<p>
<b>Created: <span class="timestamp-wrapper"><span class="timestamp">&lt;2025-10-30 Thu&gt;</span></span></b>
</p>
</div>
<div id="outline-container-ArticleAbstract" class="outline-3">
<h3 id="ArticleAbstract">Abstract</h3>
<div class="outline-text-3" id="text-ArticleAbstract">
<p>
In one of my project I need to get the minimal possible regex length
in order to sort them out from smaller to larger. So, I had to find
a way to get such value. Less trivial then expected
</p>
</div>
</div>
<div id="outline-container-ArticleContent" class="outline-3">
<h3 id="ArticleContent">Content</h3>
<div class="outline-text-3" id="text-ArticleContent">
<p>
There are different approaches to this:
</p>
<dl class="org-dl">
<dt>Add Length Manually üêµ</dt><dd>What I did till now because I couldn't
figure it out and I'm lazy</dd>
<dt>Find a Library That Does It</dt><dd>I couldn't find one. Quite
surprising!! Maybe I'm getting old and I can't find stuff online
anymore. Plus, if I was a good developer/engineer, I would have
started my own library to solve the problem once and for all, but
as I said, I'm lazy. If you know about any library that does it
out of the box, text me, send an email or whatever.</dd>
<dt>Brute Force It (probabilistic to be Fancy)</dt><dd>It might get the job
done if you find a way to create attempts that matches the given
regexp. Not ideal at all, but an improvement compared to the
manual way.</dd>
</dl>

<p>
You can imagine I'm not here to tell you to add them manually üòÖ
</p>

<p>
I recently got back to this and found <a href="https://github.com/wolfendale/scalacheck-gen-regexp">this scalacheck regex lib</a> that
allows you to generate strings based on a regex, so I had a
revelation: <i>What if I could use this to solve my problem?</i>
</p>

<p>
What I did at this point was to:
</p>
<ul class="org-ul">
<li><a href="https://github.com/benkio/sBots/issues/853">Add an Issue to my project</a>, so I remember that this problem needs
to be solved or improved.</li>
<li><a href="https://github.com/wolfendale/scalacheck-gen-regexp/issues/14">Add an issue to the scalacheck regex library</a>, to ask if they know
how to do it based on their internal.</li>
</ul>

<p>
However, I couldn't shake it off my mind, I had to experiment. Try
what I could do with what I have! And I'm here to show you. Sorry in
advance for the bad code, it's not meant to be beautiful, but to
test it's possible and who it run.
</p>

<div class="org-src-container">
<pre class="src src-scala">  <span class="org-comment">#!/usr/bin/env scala-cli</span>
//&gt; <span class="org-keyword">using</span> dep io.github.wolfendale::scalacheck-gen-regexp:1.1.0
//&gt; <span class="org-keyword">using</span> dep org.scalacheck::scalacheck:1.19.0

<span class="org-keyword">import</span> <span class="org-variable-use">wolfendale</span><span class="org-delimiter">.</span><span class="org-variable-use">scalacheck</span><span class="org-delimiter">.</span><span class="org-variable-use">regexp</span><span class="org-delimiter">.</span><span class="org-variable-use">RegexpGen</span>
<span class="org-keyword">import</span> <span class="org-variable-use">org</span><span class="org-delimiter">.</span><span class="org-variable-use">scalacheck</span><span class="org-delimiter">.</span><span class="org-variable-use">Gen</span>
<span class="org-keyword">import</span> <span class="org-variable-use">scala</span><span class="org-delimiter">.</span><span class="org-variable-use">util</span><span class="org-delimiter">.</span><span class="org-variable-use">matching</span><span class="org-delimiter">.</span><span class="org-variable-use">Regex</span>
<span class="org-keyword">import</span> <span class="org-variable-use">org</span><span class="org-delimiter">.</span><span class="org-variable-use">scalacheck</span><span class="org-delimiter">.</span><span class="org-variable-use">rng</span><span class="org-delimiter">.</span><span class="org-variable-use">Seed</span>
<span class="org-keyword">import</span> <span class="org-variable-use">java</span><span class="org-delimiter">.</span><span class="org-variable-use">time</span><span class="org-delimiter">.</span><span class="org-variable-use">Instant</span>
<span class="org-keyword">import</span> <span class="org-variable-use">java</span><span class="org-delimiter">.</span><span class="org-variable-use">time</span><span class="org-delimiter">.</span><span class="org-variable-use">Duration</span>


<span class="org-comment">// Initial (bad) idea:</span>
<span class="org-comment">//   gonna generate 100 samples from a regex and then see if I hit the minimal</span>

<span class="org-comment">// Generate 100 sample for the regex.</span>
<span class="org-keyword">def</span> <span class="org-function-name">generate100</span><span class="org-bracket">(</span><span class="org-variable-name">regex</span>: <span class="org-type">Regex</span><span class="org-bracket">)</span>: <span class="org-type">Gen</span><span class="org-bracket">[</span><span class="org-type">List</span><span class="org-bracket">[</span><span class="org-type">String</span><span class="org-bracket">]]</span> =
  <span class="org-variable-use">Gen</span><span class="org-delimiter">.</span><span class="org-function-call">listOfN</span><span class="org-bracket">(</span><span class="org-number">100</span><span class="org-delimiter">,</span> <span class="org-variable-use">RegexpGen</span><span class="org-delimiter">.</span><span class="org-function-call">from</span><span class="org-bracket">(</span><span class="org-variable-use">regex</span><span class="org-delimiter">.</span><span class="org-property-use">toString</span><span class="org-bracket">))</span>

<span class="org-comment">// Given a regex, I generate 100 samples and get the minimum length</span>
<span class="org-comment">// If I can't I explode</span>
<span class="org-keyword">def</span> <span class="org-function-name">minimumRegexLength</span><span class="org-bracket">(</span><span class="org-variable-name">regex</span>: <span class="org-type">Regex</span><span class="org-bracket">)</span>: <span class="org-type">Int</span> =
  <span class="org-function-call">generate100</span><span class="org-bracket">(</span><span class="org-variable-use">regex</span><span class="org-bracket">)</span><span class="org-delimiter">.</span><span class="org-property-use">sample</span><span class="org-delimiter">.</span><span class="org-property-use">get</span><span class="org-delimiter">.</span><span class="org-function-call">minBy</span><span class="org-bracket">(</span><span class="org-builtin">_</span><span class="org-delimiter">.</span><span class="org-property-use">length</span><span class="org-bracket">)</span><span class="org-delimiter">.</span><span class="org-property-use">length</span>

<span class="org-keyword">val</span> <span class="org-variable-name">inputExpected</span>: <span class="org-type">Map</span><span class="org-bracket">[</span><span class="org-type">Regex</span><span class="org-delimiter">,</span> <span class="org-type">Int</span><span class="org-bracket">]</span> = <span class="org-function-call">Map</span><span class="org-bracket">(</span>
  <span class="org-string">"(posto|carico) i video"</span><span class="org-delimiter">.</span><span class="org-property-use">r</span> <span class="org-operator">-&gt;</span> <span class="org-number">13</span><span class="org-delimiter">,</span>
  <span class="org-string">"(restiamo|teniamo) in contatto"</span><span class="org-delimiter">.</span><span class="org-property-use">r</span> <span class="org-operator">-&gt;</span> <span class="org-number">19</span><span class="org-delimiter">,</span>
  <span class="org-string">"(attraverso i|nei) commenti"</span><span class="org-delimiter">.</span><span class="org-property-use">r</span> <span class="org-operator">-&gt;</span> <span class="org-number">12</span><span class="org-delimiter">,</span>
  <span class="org-string">"cocod[e&#232;]"</span><span class="org-delimiter">.</span><span class="org-property-use">r</span> <span class="org-operator">-&gt;</span> <span class="org-number">6</span><span class="org-delimiter">,</span>
  <span class="org-string">"\\bmisc\\b"</span><span class="org-delimiter">.</span><span class="org-property-use">r</span> <span class="org-operator">-&gt;</span> <span class="org-number">4</span><span class="org-delimiter">,</span>
  <span class="org-string">"\\bm[i]+[a]+[o]+\\b"</span><span class="org-delimiter">.</span><span class="org-property-use">r</span> <span class="org-operator">-&gt;</span> <span class="org-number">4</span><span class="org-delimiter">,</span>
  <span class="org-string">"\\bsgrida[tr]"</span><span class="org-delimiter">.</span><span class="org-property-use">r</span> <span class="org-operator">-&gt;</span> <span class="org-number">7</span><span class="org-delimiter">,</span>
  <span class="org-string">"\\brimprover"</span><span class="org-delimiter">.</span><span class="org-property-use">r</span> <span class="org-operator">-&gt;</span> <span class="org-number">9</span><span class="org-delimiter">,</span>
  <span class="org-string">"(baci )?perugina"</span><span class="org-delimiter">.</span><span class="org-property-use">r</span> <span class="org-operator">-&gt;</span> <span class="org-number">8</span><span class="org-delimiter">,</span>
  <span class="org-string">"velit[a&#224;]"</span><span class="org-delimiter">.</span><span class="org-property-use">r</span> <span class="org-operator">-&gt;</span> <span class="org-number">6</span><span class="org-delimiter">,</span>
  <span class="org-string">"ho perso (di nuovo )?qualcosa"</span><span class="org-delimiter">.</span><span class="org-property-use">r</span> <span class="org-operator">-&gt;</span> <span class="org-number">17</span><span class="org-delimiter">,</span>
  <span class="org-string">"tutti (quanti )?mi criticheranno"</span><span class="org-delimiter">.</span><span class="org-property-use">r</span> <span class="org-operator">-&gt;</span> <span class="org-number">22</span><span class="org-delimiter">,</span>
  <span class="org-string">"ti voglio (tanto )?bene"</span><span class="org-delimiter">.</span><span class="org-property-use">r</span> <span class="org-operator">-&gt;</span> <span class="org-number">14</span><span class="org-delimiter">,</span>
  <span class="org-string">"vi voglio (tanto )*bene"</span><span class="org-delimiter">.</span><span class="org-property-use">r</span> <span class="org-operator">-&gt;</span> <span class="org-number">14</span><span class="org-delimiter">,</span>
  <span class="org-string">"pu[o&#242;] capitare"</span><span class="org-delimiter">.</span><span class="org-property-use">r</span> <span class="org-operator">-&gt;</span> <span class="org-number">12</span><span class="org-delimiter">,</span>
  <span class="org-string">"dopo (che ho )?mangiato"</span><span class="org-delimiter">.</span><span class="org-property-use">r</span> <span class="org-operator">-&gt;</span> <span class="org-number">13</span><span class="org-delimiter">,</span>
  <span class="org-string">"\\bops\\b"</span><span class="org-delimiter">.</span><span class="org-property-use">r</span> <span class="org-operator">-&gt;</span> <span class="org-number">3</span><span class="org-delimiter">,</span>
  <span class="org-string">"mi sto sentendo (bene|in compagnia)"</span><span class="org-delimiter">.</span><span class="org-property-use">r</span> <span class="org-operator">-&gt;</span> <span class="org-number">20</span><span class="org-delimiter">,</span>
  <span class="org-string">"(25|venticinque) (milioni|mila euro)"</span><span class="org-delimiter">.</span><span class="org-property-use">r</span> <span class="org-operator">-&gt;</span> <span class="org-number">10</span>
<span class="org-bracket">)</span>

<span class="org-variable-use">inputExpected</span><span class="org-delimiter">.</span><span class="org-function-call">forall</span> <span class="org-bracket">{</span> <span class="org-keyword">case</span> <span class="org-bracket">(</span><span class="org-variable-use">input</span><span class="org-delimiter">,</span> <span class="org-variable-use">expected</span><span class="org-bracket">)</span> <span class="org-operator">=&gt;</span>
  <span class="org-keyword">val</span> <span class="org-variable-name">result</span> = <span class="org-function-call">minimumRegexLength</span><span class="org-bracket">(</span><span class="org-variable-use">input</span><span class="org-bracket">)</span>
  <span class="org-keyword">if</span> <span class="org-bracket">(</span><span class="org-variable-use">result</span> <span class="org-operator">!=</span> <span class="org-variable-use">expected</span><span class="org-bracket">)</span> <span class="org-bracket">{</span>
    <span class="org-function-call">println</span><span class="org-bracket">(</span>
      <span class="org-variable-use"><span class="org-function-call">s</span></span><span class="org-string">"[RegexMinimumLength] Failed test for </span><span class="org-string"><span class="org-punctuation">$</span></span><span class="org-variable-use"><span class="org-string"><span class="org-variable-use">input</span></span></span><span class="org-string">, expected </span><span class="org-string"><span class="org-punctuation">$</span></span><span class="org-variable-use"><span class="org-string"><span class="org-variable-use">expected</span></span></span><span class="org-string">, got </span><span class="org-string"><span class="org-punctuation">$</span></span><span class="org-variable-use"><span class="org-string"><span class="org-variable-use">result</span></span></span><span class="org-string">"</span>
    <span class="org-bracket">)</span>
    <span class="org-constant">false</span>
  <span class="org-bracket">}</span> <span class="org-keyword">else</span> <span class="org-constant">true</span>
<span class="org-bracket">}</span>

<span class="org-comment">// FAILED as expected. Output</span>
<span class="org-comment">// Got [RegexMinimumLength] Failed test for \bm[i]+[a]+[o]+\b, expected 4, got 46</span>

<span class="org-comment">// Gonna ask AI what are his suggestions.</span>
<span class="org-comment">// Together we come out with an idea:</span>

<span class="org-comment">// - Start small in size</span>
<span class="org-comment">// - Try to generate the output</span>
<span class="org-comment">// - If fail, increase the size and retry</span>
<span class="org-comment">// - Exit when you got something</span>

<span class="org-keyword">def</span> <span class="org-function-name">canGenerateSize</span><span class="org-bracket">(</span>
  <span class="org-variable-name">regex</span>: <span class="org-type">Regex</span><span class="org-delimiter">,</span>
  <span class="org-variable-name">targetSize</span>: <span class="org-type">Int</span><span class="org-delimiter">,</span>
  <span class="org-variable-name">trials</span>: <span class="org-type">Int</span> = <span class="org-number">100</span>
<span class="org-bracket">)</span>: <span class="org-type">Boolean</span> = <span class="org-bracket">{</span>
  <span class="org-keyword">val</span> <span class="org-variable-name">params</span> = <span class="org-variable-use">Gen</span><span class="org-delimiter">.</span><span class="org-property-use">Parameters</span><span class="org-delimiter">.</span><span class="org-property-use">default</span><span class="org-delimiter">.</span><span class="org-function-call">withSize</span><span class="org-bracket">(</span><span class="org-variable-use">targetSize</span><span class="org-bracket">)</span>
  <span class="org-bracket">(</span><span class="org-number">1</span> <span class="org-variable-use">to</span> <span class="org-variable-use">trials</span><span class="org-bracket">)</span><span class="org-delimiter">.</span><span class="org-function-call">exists</span> <span class="org-bracket">{</span> <span class="org-builtin">_</span> <span class="org-operator">=&gt;</span>
    <span class="org-variable-use">RegexpGen</span><span class="org-delimiter">.</span><span class="org-function-call">from</span><span class="org-bracket">(</span><span class="org-variable-use">regex</span><span class="org-delimiter">.</span><span class="org-property-use">toString</span><span class="org-bracket">)</span><span class="org-delimiter">.</span><span class="org-function-call">apply</span><span class="org-bracket">(</span><span class="org-variable-use">params</span><span class="org-delimiter">,</span> <span class="org-variable-use">Seed</span><span class="org-delimiter">.</span><span class="org-function-call">random</span><span class="org-bracket">())</span>
      <span class="org-delimiter">.</span><span class="org-function-call">exists</span><span class="org-bracket">(</span><span class="org-variable-use">v</span> <span class="org-operator">=&gt;</span> <span class="org-keyword">if</span> <span class="org-bracket">(</span><span class="org-variable-use">v</span><span class="org-delimiter">.</span><span class="org-property-use">length</span> <span class="org-operator">==</span> <span class="org-variable-use">targetSize</span><span class="org-bracket">)</span> <span class="org-bracket">{</span>
        <span class="org-comment">//println(s"[RegexMinimumLength] find a match for $regex: $v")</span>
        <span class="org-constant">true</span>
      <span class="org-bracket">}</span> <span class="org-keyword">else</span> <span class="org-constant">false</span>
      <span class="org-bracket">)</span>
  <span class="org-bracket">}</span>
<span class="org-bracket">}</span>

<span class="org-keyword">def</span> <span class="org-function-name">minimalSize</span><span class="org-bracket">[</span><span class="org-variable-use">T</span><span class="org-bracket">](</span>
  <span class="org-variable-name">regex</span>: <span class="org-type">Regex</span><span class="org-delimiter">,</span>
  <span class="org-variable-name">maxProbe</span>: <span class="org-type">Int</span> = <span class="org-number">50</span>
<span class="org-bracket">)</span>: <span class="org-type">Option</span><span class="org-bracket">[</span><span class="org-type">Int</span><span class="org-bracket">]</span> = <span class="org-bracket">{</span>
  <span class="org-keyword">val</span> <span class="org-variable-name">start</span>: <span class="org-type">Instant</span> = <span class="org-variable-use">Instant</span><span class="org-delimiter">.</span><span class="org-function-call">now</span><span class="org-bracket">()</span>
  <span class="org-keyword">val</span> <span class="org-variable-name">result</span> = <span class="org-bracket">(</span><span class="org-number">0</span> <span class="org-variable-use">to</span> <span class="org-variable-use">maxProbe</span><span class="org-bracket">)</span><span class="org-delimiter">.</span><span class="org-function-call">find</span> <span class="org-bracket">{</span> <span class="org-variable-use">size</span> <span class="org-operator">=&gt;</span>
    <span class="org-function-call">canGenerateSize</span><span class="org-bracket">(</span><span class="org-variable-use">regex</span><span class="org-delimiter">,</span> <span class="org-variable-use">size</span><span class="org-bracket">)</span>
  <span class="org-bracket">}</span>
  <span class="org-function-call">println</span><span class="org-bracket">(</span><span class="org-variable-use"><span class="org-function-call">s</span></span><span class="org-string">"[RegexMinimumLength] generation took: </span><span class="org-string"><span class="org-punctuation">$</span></span><span class="org-bracket"><span class="org-string"><span class="org-variable-use"><span class="org-bracket">{</span></span></span></span><span class="org-variable-use"><span class="org-string"><span class="org-variable-use">Duration</span></span></span><span class="org-delimiter"><span class="org-string"><span class="org-variable-use">.</span></span></span><span class="org-function-call"><span class="org-string"><span class="org-variable-use">between</span></span></span><span class="org-bracket"><span class="org-string"><span class="org-variable-use">(</span></span></span><span class="org-variable-use"><span class="org-string"><span class="org-variable-use">start</span></span></span><span class="org-delimiter"><span class="org-string"><span class="org-variable-use">,</span></span></span><span class="org-string"><span class="org-variable-use"> </span></span><span class="org-variable-use"><span class="org-string"><span class="org-variable-use">Instant</span></span></span><span class="org-delimiter"><span class="org-string"><span class="org-variable-use">.</span></span></span><span class="org-property-use"><span class="org-string"><span class="org-variable-use">now</span></span></span><span class="org-bracket"><span class="org-string"><span class="org-variable-use">)</span></span></span><span class="org-delimiter"><span class="org-string"><span class="org-variable-use">.</span></span></span><span class="org-property-use"><span class="org-string"><span class="org-variable-use">toMillis</span></span></span><span class="org-bracket"><span class="org-string"><span class="org-variable-use"><span class="org-bracket">}</span></span></span></span><span class="org-string">"</span><span class="org-bracket">)</span>
  <span class="org-variable-use">result</span>
<span class="org-bracket">}</span>

<span class="org-variable-use">inputExpected</span><span class="org-delimiter">.</span><span class="org-function-call">forall</span> <span class="org-bracket">{</span> <span class="org-keyword">case</span> <span class="org-bracket">(</span><span class="org-variable-use">input</span><span class="org-delimiter">,</span> <span class="org-variable-use">expected</span><span class="org-bracket">)</span> <span class="org-operator">=&gt;</span>
  <span class="org-keyword">val</span> <span class="org-variable-name">result</span> = <span class="org-function-call">minimalSize</span><span class="org-bracket">(</span><span class="org-variable-use">input</span><span class="org-bracket">)</span>
  <span class="org-keyword">if</span> <span class="org-bracket">(</span><span class="org-variable-use">result</span> <span class="org-operator">!=</span> <span class="org-function-call">Some</span><span class="org-bracket">(</span><span class="org-variable-use">expected</span><span class="org-bracket">))</span> <span class="org-bracket">{</span>
    <span class="org-function-call">println</span><span class="org-bracket">(</span>
      <span class="org-variable-use"><span class="org-function-call">s</span></span><span class="org-string">"[RegexMinimumLength] Failed test for </span><span class="org-string"><span class="org-punctuation">$</span></span><span class="org-variable-use"><span class="org-string"><span class="org-variable-use">input</span></span></span><span class="org-string">, expected </span><span class="org-string"><span class="org-punctuation">$</span></span><span class="org-variable-use"><span class="org-string"><span class="org-variable-use">expected</span></span></span><span class="org-string">, got </span><span class="org-string"><span class="org-punctuation">$</span></span><span class="org-variable-use"><span class="org-string"><span class="org-variable-use">result</span></span></span><span class="org-string">"</span>
    <span class="org-bracket">)</span>
    <span class="org-constant">false</span>
  <span class="org-bracket">}</span> <span class="org-keyword">else</span> <span class="org-constant">true</span>
<span class="org-bracket">}</span>

<span class="org-comment">// THIS WORKS!!! And generally returns pretty fast ~ 25 milliseconds</span>
<span class="org-comment">// It's probabilistic tho so it might be wrong, especially if the number</span>
<span class="org-comment">// of attempt are low or the regexp is particularly complex</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-ArticleConclusions" class="outline-3">
<h3 id="ArticleConclusions">Conclusions</h3>
<div class="outline-text-3" id="text-ArticleConclusions">
<p>
I hope this could be useful to someone out there. At least this
should be a better start then when I did approach the problem the
first time. (and decided to give up)
</p>

<p>
EDIT: The solution works fine for simple regexp. Long/complex regexp
will take more time. So for those you might be better off counting
the length manually till someone delivers a lib that exposes this
functionality. I learned this by seeing a degrade in my project
performance üòÖ
</p>
</div>
</div>
</div>
<div id="outline-container-ShareButtons" class="outline-2 row">
<h2 id="ShareButtons">Share Buttons</h2>
<div class="outline-text-2" id="text-ShareButtons">
<!-- AddToAny BEGIN -->
<hr>
<div class="a2a_kit a2a_kit_size_32 a2a_default_style">
<a class="a2a_dd" href="https://www.addtoany.com/share"></a>
<a class="a2a_button_facebook"></a>
<a class="a2a_button_twitter"></a>
<a class="a2a_button_whatsapp"></a>
<a class="a2a_button_telegram"></a>
<a class="a2a_button_linkedin"></a>
<a class="a2a_button_email"></a>
</div>
<script async src="https://static.addtoany.com/menu/page.js"></script>
<!-- AddToAny END -->

<script type="text/javascript">
$(function() {
  $('#text-table-of-contents > ul li').first().css("display", "none");
  $('#text-table-of-contents > ul li').last().css("display", "none");
  $('#table-of-contents').addClass("visible-lg")
});
  document.getElementById("content").classList.add("container-fluid","p-0");
  document.getElementById("text-navbar").classList.add("container-fluid");
  document.getElementById("outline-container-navbar").setAttribute("data-bs-theme", "dark");
  document.getElementById("text-Article").classList.add("text-center");
  $('.outline-3').addClass("m-auto").addClass("col-10");
  document.getElementById("text-ShareButtons").classList.add("m-auto", "col-10");
</script>
</div>
</div>
</div>
</body>
</html>
