<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2025-10-13 Mon 23:56 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Google Photos to Telegram (Tgstorage)</title>
<meta name="description" content="Google Photos to Telegram (Tgstorage)" />
<meta name="keywords" content="Google Photos to Telegram (Tgstorage)" />
<meta name="generator" content="Org Mode" />
<link rel="shortcut icon" href="../images/favicon.ico" type="image/x-icon">
<link rel="icon" href="../images/favicon.ico" type="image/x-icon">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.0/css/all.min.css">
<link href="https://fonts.googleapis.com/css?family=Montserrat" rel="stylesheet" type="text/css">
<link href="https://fonts.googleapis.com/css?family=Lato" rel="stylesheet" type="text/css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"/>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
<link rel="stylesheet" href="../css/main.css">
<link rel="stylesheet" href="../css/blog.css">
<link rel="stylesheet" href="../css/article.css">
<script>
// @license magnet:?xt=urn:btih:1f739d935676111cfff4b4693e3816e664797050&amp;dn=gpl-3.0.txt GPL-v3-or-Later
     function CodeHighlightOn(elem, id)
     {
       var target = document.getElementById(id);
       if(null != target) {
         elem.classList.add("code-highlighted");
         target.classList.add("code-highlighted");
       }
     }
     function CodeHighlightOff(elem, id)
     {
       var target = document.getElementById(id);
       if(null != target) {
         elem.classList.remove("code-highlighted");
         target.classList.remove("code-highlighted");
       }
     }
// @license-end
</script>
</head>
<body>
<div id="content" class="content">
<h1 class="title">Google Photos to Telegram (Tgstorage)</h1>
<nav id="outline-container-navbar" class="outline-2 navbar bg-dark border-bottom border-body navbar-fixed-top navbar-expand-lg bg-body-tertiary">
<h2 id="navbar">Blog</h2>
<div class="outline-text-2" id="text-navbar">
<a target="_self" class="navbar-brand" href="/index.html">
  <img class="img-circle rounded-circle" src="https://www.gravatar.com/avatar/aa7f68a32b011ac94698a7a1cb16ffc8?s=200" width="50px"/>
</a>
<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
  <span class="navbar-toggler-icon"></span>
</button>
<div class="collapse navbar-collapse" id="navbarSupportedContent">
  <ul class="navbar-nav me-auto mb-2 mb-lg-0">
    <li class="nav-item"> <a class="nav-link fs-4 active"        aria-current="page" target="_self" href="/blog.html">Blog</a> </li>
    <li class="nav-item"> <a class="nav-link fs-4 "        aria-current="page" target="_self" href="/articles.html">Articles</a> </li>
    <li class="nav-item"> <a class="nav-link fs-4 "        aria-current="page" target="_self" href="/books.html">Books</a> </li>
    <li class="nav-item"> <a class="nav-link fs-4 " aria-current="page" target="_self" href="/albums.html">Albums</a> </li>
    <li class="nav-item"> <a class="nav-link fs-4 "        aria-current="page" target="_self" href="/NoteTrainer/NoteTrainer.html">Note Trainer</a> </li>
  </ul>
</div>
</div>
</nav>
<div id="outline-container-Article" class="outline-2 row">
<h2 id="Article">Google Photos to Telegram (Tgstorage)</h2>
<div class="outline-text-2" id="text-Article">
<p>
<b>Created: <span class="timestamp-wrapper"><span class="timestamp">&lt;2025-10-09 Thu&gt;</span></span></b>
</p>
</div>
<div id="outline-container-ArticleAbstract" class="outline-3">
<h3 id="ArticleAbstract">Abstract</h3>
<div class="outline-text-3" id="text-ArticleAbstract">
<p>
I also have a problem with cloud storage: where to store all the
photos and videos.  In this article I'll tell you the story of how I
tackle it and the recent changes I have to face to solve it (I hope
once and for all)
</p>
</div>
</div>
<div id="outline-container-ArticleContent" class="outline-3">
<h3 id="ArticleContent">Content</h3>
<div class="outline-text-3" id="text-ArticleContent">
</div>
<div id="outline-container-org3f5aebc" class="outline-4">
<h4 id="org3f5aebc">Easy Solution For Videos</h4>
<div class="outline-text-4" id="text-org3f5aebc">
<p>
Let's get this out of the way immediately. If you want to store your
videos you can always create a <a href="https://www.youtube.com">YouTube channel</a> where you upload
there everything. Then organize it in playlists and be sure you set
the privacy to <code>unlisted</code>, so you can still share stuff around, but
not be visible from the outside.
</p>

<p>
Regardless of the amount of videos you have, you can't upload more
then <a href="https://www.youtube.com/channel/UCzKdPZiAcbhvFC2hCo-8GfA">Domenico Bini</a>. You should be safe.
</p>

<p>
Problem Solved! I wish it was the same with photos, but no. That's
more complicated.
</p>
</div>
</div>
<div id="outline-container-org39ba17e" class="outline-4">
<h4 id="org39ba17e">Once Upon a time there was Flickr</h4>
<div class="outline-text-4" id="text-org39ba17e">
<p>
Once upon a time (~2018) There was <a href="https://www.flickr.com/">Flickr</a>. A service by Yahoo,
specialized in photos that provided an immense amount of free
storage space: 1TB. The service was mainly targeted by professional
photographers, but anyone could open an account and start putting
there all the family holiday photos and such. That's what I
did.
</p>

<p>
Everything was working fine, everyone was happy, apart from the
upload phase, but that's a problem we still have today in bigger
platforms like YouTube (<a href="https://benkio.github.io/articles/2025-08-09-YoutubeBulkUploadGuide.html">reference</a>). Until one day
(around 2020 I think, I don't have a reference of that
unfortunately), they changed their mind, limiting the amount of
storage to something ridiculous (again I don't remember precisely,
but now for instance you can have 1000 photos at max).
</p>

<p>
Well, I'm the tech guy of the family and, on top of my vacations, I
need to take care and store all the photos from the 80s
on. Fortunately, I don't have to handle the ones from my brother's
family, but I wouldn't be surprised if I'll be asked to
someday. Therefore, I have a lot of photos and I couldn't stay on
<a href="https://www.flickr.com/">Flickr</a> anymore, but where to go?
</p>
</div>
</div>
<div id="outline-container-org7b920e7" class="outline-4">
<h4 id="org7b920e7">Google Photos Unlimited 😱</h4>
<div class="outline-text-4" id="text-org7b920e7">
<p>
I started my research on the matter in 2019-20 and quickly found
that Google Photos provided Unlimited photos storage if you allow
them to compress them.
</p>

<p>
As you might imagine, the photos from the 80s where not that big or
in high resolution, plus my photos aren't professional, but taken
from a cheap phone 90% of the time. So no problem from me on that:
be my guest, compress, but keep them in the cloud, so when my
external HD will stop working I'm not fucked!
</p>

<p>
Note: if you are a professional programmer or a photo geek I guess
you don't have a way out other then pay for the service or handle
the photos locally in a NAS 🤷
</p>

<p>
So far so good, I started the migration and eventually, over weeks
and with the help of a fast internet connection from my workplace, I completed it
moving my 44k photos, roughly the amount I had at the time, around.
</p>
</div>
</div>
<div id="outline-container-orgc88caf9" class="outline-4">
<h4 id="orgc88caf9">2025 Pay Or Get Lost, Maybe</h4>
<div class="outline-text-4" id="text-orgc88caf9">
<p>
What now? It seems the only way out is to pay, but I'm not a guy who
give up such easily. You won't have my money!  So I when to&#x2026;Google
or ChatGPT in search of an answer.
</p>

<p>
What I found was that they <span class="underline">SHOULD</span> start counting for space from
the date they stopped the free unlimited service (Jun 2021). Therefore, one
should just:
</p>
<ol class="org-ol">
<li>Go out and search for another free unlimited available</li>
</ol>
<p>
service
</p>
<ol class="org-ol">
<li>Export/download the data of the last years</li>
<li>Upload the data</li>
<li>Delete the data</li>
</ol>

<p>
A very classical, old fashion migration. Nothing strange. Let's
tackle each point.
</p>
</div>
<div id="outline-container-orgb5cad5d" class="outline-5">
<h5 id="orgb5cad5d">Google Photos Alternative</h5>
<div class="outline-text-5" id="text-orgb5cad5d">
<p>
We want this to have/be:
</p>
<ul class="org-ul">
<li>Unlimited space</li>
<li>Free</li>
<li>Manageable (or it's useless if we can't share/search stuff)</li>
</ul>

<p>
Guess what, it's basically impossible to find someone who gives you
that. Every other provider have space limits especially (and that's
why I said "Pay or get lost")
</p>

<p>
<i>Then Benkio I read all of this shit for just having that as a response? You are an idiot!</i>
</p>

<p>
I agree with that sentence regardless of the context, but this time
I found a trick that I hope it will last: <i>Telegram</i>
</p>

<p>
Yes, I know, Telegram is a chat, not a cloud storage, but I
remembered to have read somewhere that there was a way to use
archived private channels as personal folders where you can place your stuff
there and basically let it be your storage.
</p>

<p>
After a bit of search I've found <a href="https://tgstorage.com/">Tgstorage.com</a>. An open source
project that does exactly that: you give him permissions and it
creates those channels for you. Because they are archived, they
won't appear in your telegram main view and they are out of the way.
Then, you can still search in the app for the titles of the folders
or the groupings and you should be able to find what you need.
</p>

<p>
I can see how this is a hack, it's maintained by some folk who might
stop doing it tomorrow or Telegram might die and you are dead with
him. However, at the moment, it's our best free, unlimited bet. I
use it since some time and it works for now. I hope it does forever.
</p>
</div>
</div>
<div id="outline-container-orgde1b298" class="outline-5">
<h5 id="orgde1b298">Export Data From Google</h5>
<div class="outline-text-5" id="text-orgde1b298">
<p>
This is easy. Google provides a service for it, called <a href="https://takeout.google.com/">Google
Takeout</a>. It allows to select the service you want and, inside the
Google Photos, you can select the individual albums or even by year.
Then you get out multiple Zip files with everything you requested
and more (json metadata)
</p>
</div>
</div>
<div id="outline-container-org2c4d1ac" class="outline-5">
<h5 id="org2c4d1ac">Upload Data</h5>
<div class="outline-text-5" id="text-org2c4d1ac">
<p>
There are the steps I will do:
</p>
<dl class="org-dl">
<dt>Extraction of the Takeout Data</dt><dd>Just put everything in a folder
and cut-paste everything in a single place</dd>
<dt>Delete the Metadata</dt><dd>You can do it using <code>find~/~fd</code> with a
command like: <code>fd . -e json -x rm ./</code> Be careful to check the data
without the <code>rm</code> first. I used it and I still have my photos.</dd>
<dt>Select a Photo Album as a Target</dt><dd>Next steps has to be repeted
for all the albums.</dd>
<dt>Create a Folder Tgstorage</dt><dd>Be sure to specify a folder and then
groups inside folders. For the photos I use Memories&gt;{year}. So,
you won't have a flat structure and not get lost in tons of
folder.</dd>
<dt>Open Telegram (Web or App) Search the New Folder and Upload</dt><dd></dd>
</dl>
</div>
</div>
<div id="outline-container-org5819788" class="outline-5">
<h5 id="org5819788">Delete Data</h5>
<div class="outline-text-5" id="text-org5819788">
<p>
Not much to say here. Just go to Google Photo, delete your shit and
check at each step that you get your free space back. We don't want
to do work for no reason.
</p>
</div>
</div>
</div>
<div id="outline-container-orgb9a8879" class="outline-4">
<h4 id="orgb9a8879">Victory!</h4>
<div class="outline-text-4" id="text-orgb9a8879">
<p>
Appartently all seems to work fine: the space is freed
</p>

<div id="org4402847" class="figure">
<p><img src="2025-10-09-GooglePhotosToTelegramTgstorage/googleStorageFree.jpg" alt="googleStorageFree.jpg" class="rounded mx-auto d-block img-fluid" />
</p>
<p><span class="figure-number">Figure 1: </span>Google Storage Freed</p>
</div>
</div>
</div>
<div id="outline-container-org799d505" class="outline-4">
<h4 id="org799d505">Downsides</h4>
<div class="outline-text-4" id="text-org799d505">
<p>
Of course we wanted to have everything in one place, all tided up,
easy to search, easy to share, etc. This solution is not the case:
some memories stays in google, some in Telegram, the archivied chats
are not easy to navigate even if the search function works great and
the Tgstorage interface is properly organized.
</p>

<p>
What if I want to backup or move away from Telegram for instance? I
don't know at the moment. First, I hope I don't need to do that.
Second, I hope to find a downloader of some sort to do that.
</p>

<p>
Sharing is also a bit shitty unless the other person has Telegram, a
thing we can't take from granted as a Google account, but let's be
honest, you barely go back looking at your photos, imagine someone
else looking at yours! Even if they were involved.
</p>

<p>
Last but not least, bulk uploading is not amazing through the
client: you can upload up to ~200 files and then it might crash with
an error. That's ok if your albums are not too big, max 500
images, but I have a big album to upload and I'm looking for
an uploader to do that. Probably <a href="https://github.com/Nekmo/telegram-upload">this one</a>. I'll give it a try later
and see if it solves the problem.
</p>
</div>
</div>
<div id="outline-container-org762f266" class="outline-4">
<h4 id="org762f266">Uploader</h4>
<div class="outline-text-4" id="text-org762f266">
<p>
TL;DR: Failed Attempt. Fallback to upload from the official client
in batches of 50. At least they got uploaded in order, so it's easy
to follow and safe from disconnections
</p>

<p>
I played with the <a href="https://github.com/Nekmo/telegram-upload">telegram-upload</a> and in particular with the <a href="https://hub.docker.com/r/nekmo/telegram-upload">Docker
image of it</a> because I don't want to handle python installation in my
nixos laptop.
</p>

<p>
After a while, between telegram authorization using
<a href="https://my.telegram.org/">https://my.telegram.org/</a> and getting the dev API key, then give it
my phone, my password (basically if it was malicious I was fucked)
</p>

<p>
I was able to upload a file using the following command:
</p>
<div class="org-src-container">
<pre class="src src-sh">$ docker run -v $<span style="color: #eedd82;">PWD</span>/temp/test:/files/ -v $<span style="color: #eedd82;">PWD</span>/config:/config/ -it nekmo/telegram-upload:master upload GifVideoAudioGenerator.scala
</pre>
</div>

<p>
Problem is the given <code>config</code> and <code>/temp/test/</code> folders I used are
not owned by you. So you have to move data into it by ~subo mv
~. Annoying, but not impossible.  Now I want to move that file to a
specific Tgstorage private channel. That's possible as from the
project documentation with:
</p>

<div class="org-src-container">
<pre class="src src-sh">$ docker run -v $<span style="color: #eedd82;">PWD</span>/temp/test/:/files/ -v $<span style="color: #eedd82;">PWD</span>/config:/config/ -it nekmo/telegram-upload:latest upload --to &lt;channel/group invitation link&gt; --caption <span style="color: #ffa07a;">""</span> GifVideoAudioGenerator.scala
</pre>
</div>

<p>
As you noticed I had to remove the caption explicitly otherwise it
will be added with the name of the file. Now I want to go crazy and
move all my photos in bulk. I'm talking about 2000+ photos after
<code>cp</code> them to the input folder. Pray for me
</p>

<div class="org-src-container">
<pre class="src src-sh">$ sudo cp ~/temp/GooglePhotosToTelegram/2023<span style="color: #ffa07a;">\ </span>-<span style="color: #ffa07a;">\ </span>Giappone/* ~/temp/test/
$ ll ~/temp/test/ | wc
 2661   18627  160133
$ docker run -v $<span style="color: #eedd82;">PWD</span>/temp/test/:/files/ -v $<span style="color: #eedd82;">PWD</span>/config:/config/ -it nekmo/telegram-upload:latest upload --to https://t.me/+kdJIVKek5Ew2ZGNk --caption <span style="color: #ffa07a;">""</span> --directories recursive
[Error] telegram-upload Exception:
MissingFileError: Files<span style="color: #00ffff;"> do</span> not exist.
</pre>
</div>

<p>
Unfortunately I wasn't able to find a way to specify to get all the
files. Even with a <code>*</code> doesn't seems to work. At this point I thing
I'll use the power of emacs to the rescue:
</p>
<ul class="org-ul">
<li>Go into the directory</li>
<li>List all the files</li>
<li>Copy the names in a buffer and make a single list</li>
<li>Be sure there's no spaces or strange characters in there (or wrap everything in quotes)</li>
<li>Append them to the command</li>
<li>Prey 🙏</li>
</ul>

<p>
It ends up being 53656 characters long 😅
</p>

<p>
What you get is: <code>OSError: [Errno 24] Too many open files: '20230525_133922.jpg'</code>
Python gives up. Let's see what I can do, maybe it's a Linux problem. It is!
</p>

<p>
As stated here, you just have to increase the limit for open
files. You can do it temporarely for the shell with:
</p>

<div class="org-src-container">
<pre class="src src-sh">$ ulimit -n
1024
$ ulimit -n 4096
$ ulimit -n
4096
</pre>
</div>

<p>
Now, if I retry the monster command, you get the same because you
need to run it in the container kinda, but first I have a bad news:
everytime you run the command above it starts a container, so you
want to cleanup a bit here with <code>docker rm $(docker ps -a -q)</code> to
delete everything.
</p>

<p>
I guess we are screwed ad we need to go for 1000 files at a time
(that's still a big improvement from the ~200 of before). Probably
if you go without Docker in between you should be fine with one
single big command. In my case, I prepared 3 big commands.
</p>

<p>
It seems to work, but after 20 uploads I got this:
<code>A wait of 276 seconds is required (caused by CheckChatInviteRequest). Waiting for 276 seconds.</code>
</p>

<p>
I guess we might have to wait a lot to go through this. Probably you
are better off with the client after all.
</p>

<p>
Monitoring it I saw that, after a couple of batches I got:
<code>A wait of 1000 seconds is required (caused by CheckChatInviteRequest). Waiting for 1000 seconds.</code>
</p>

<p>
If it increases exponetially I think we might wait forever
here. Apparently <a href="https://github.com/Nekmo/telegram-upload/issues/111">the wait is unskippable</a>. I'll see if it get's worse
and then fallback to manual at this point. If that's the point, it's
a shame 😢 Plus you can't even run them in parallel because there's
a conflict.
</p>

<p>
In the end I just go manual, because with these waits I uploaded
only ~50 photos in 30 min. not worth it.
</p>
</div>
</div>
</div>
<div id="outline-container-ArticleConclusions" class="outline-3">
<h3 id="ArticleConclusions">Conclusions</h3>
<div class="outline-text-3" id="text-ArticleConclusions">
<p>
Unfortunately, this is a burden we all have to do in a way or
another if you care about your memories and pushing your stuff to
the cloud is a must if you don't want to lose data. As time passes,
the free alternatives are less and less and I really hope next time
I have to go though it I'll be able to find something that
works. Till then, we can enjoy your free lunch 😉
</p>
</div>
</div>
</div>
<div id="outline-container-ShareButtons" class="outline-2 row">
<h2 id="ShareButtons">Share Buttons</h2>
<div class="outline-text-2" id="text-ShareButtons">
<!-- AddToAny BEGIN -->
<hr>
<div class="a2a_kit a2a_kit_size_32 a2a_default_style">
<a class="a2a_dd" href="https://www.addtoany.com/share"></a>
<a class="a2a_button_facebook"></a>
<a class="a2a_button_twitter"></a>
<a class="a2a_button_whatsapp"></a>
<a class="a2a_button_telegram"></a>
<a class="a2a_button_linkedin"></a>
<a class="a2a_button_email"></a>
</div>
<script async src="https://static.addtoany.com/menu/page.js"></script>
<!-- AddToAny END -->

<script type="text/javascript">
$(function() {
  $('#text-table-of-contents > ul li').first().css("display", "none");
  $('#text-table-of-contents > ul li').last().css("display", "none");
  $('#table-of-contents').addClass("visible-lg")
});
  document.getElementById("content").classList.add("container-fluid","p-0");
  document.getElementById("text-navbar").classList.add("container-fluid");
  document.getElementById("outline-container-navbar").setAttribute("data-bs-theme", "dark");
  document.getElementById("text-Article").classList.add("text-center");
  $('.outline-3').addClass("m-auto").addClass("col-10");
  document.getElementById("text-ShareButtons").classList.add("m-auto", "col-10");
</script>
</div>
</div>
</div>
</body>
</html>
