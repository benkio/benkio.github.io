#+OPTIONS: num:nil toc:t H:4
#+OPTIONS: html-preamble:nil html-postamble:nil html-scripts:t html-style:nil
#+TITLE: Away from LastPass - Password Manager Migration
#+DESCRIPTION: Away from LastPass - Password Manager Migration
#+KEYWORDS: Away from LastPass - Password Manager Migration
#+CREATOR: Enrico Benini
#+HTML_HEAD_EXTRA: <link rel="shortcut icon" href="../../images/favicon.ico" type="image/x-icon">
#+HTML_HEAD_EXTRA: <link rel="icon" href="../../images/favicon.ico" type="image/x-icon">
#+HTML_HEAD_EXTRA:  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.0/css/all.min.css">
#+HTML_HEAD_EXTRA:  <link href="https://fonts.googleapis.com/css?family=Montserrat" rel="stylesheet" type="text/css">
#+HTML_HEAD_EXTRA:  <link href="https://fonts.googleapis.com/css?family=Lato" rel="stylesheet" type="text/css">
#+HTML_HEAD_EXTRA:  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
#+HTML_HEAD_EXTRA:  <link rel="stylesheet" href="../css/main.css">
#+HTML_HEAD_EXTRA:  <link rel="stylesheet" href="../css/blog.css">
#+HTML_HEAD_EXTRA:  <link rel="stylesheet" href="../css/article.css">

* Blog
  :PROPERTIES:
  :HTML_CONTAINER_CLASS: text-center navbar navbar-inverse navbar-fixed-top
  :CUSTOM_ID: navbar
  :END:
  #+BEGIN_EXPORT html
  <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#collapsableNavbar">
    <span class="icon-bar"Article 6</span>
    <span class="icon-bar"></span>
    <span class="icon-bar"></span>
  </button>
  <a title="Home" href="../blog.html"><h1 id="navbarTitle" class="navbar-text">Blog</h1></a>
  <div class="collapse navbar-collapse" id="collapsableNavbar">
    <ul class="nav navbar-nav">
      <li><a title="Home" href="../index.html"><i class="fas fa-home fa-3x" aria-hidden="true"></i></a></li>
      <li><a title="Article List" href="../articleList.html" class="navbar-text h3">Article List</a></li>
  <li><a title="Book List" href="../bookList.html" class="navbar-text h3">Book List</a></li>
  <li><a title="Album List" href="../albumList.html" class="navbar-text h3">Album List</a></li>
    </ul>
  </div>
  #+END_EXPORT

* Away from LastPass - Password Manager Migration
  :PROPERTIES:
  :CUSTOM_ID: Article
  :END:
  *Created: <2021-02-19 Fri>*
** Abstract
   :PROPERTIES:
   :CUSTOM_ID: ArticleAbstract
   :END:

   I'm a [[https://www.lastpass.com/][LastPass]] user as a lot of others. It's a [[https://en.wikipedia.org/wiki/Password_manager][password manager]] who
   stores your passwords in the cloud allowing you to just have to
   remember one password for all. I'm happy to use this solution, until
   I read recently this news:
   [[https://9to5google.com/2021/02/16/lastpass-free-device-type-restriction-march-2021/][LastPass will restrict free users to only one type of device starting next month]]

   In particular you can read:

   #+BEGIN_QUOTE
   Starting on March 16, 2021, LastPass will start restricting its free service to only one device type, meaning those who sign up will be required to pick between accessing the service on their computer or their smartphone. The latter also includes LastPass access on tablets (iPads) and smartwatches. You‚Äôll pick an ‚Äúactive device type‚Äù to decide on where you‚Äôll use the service.
   #+END_QUOTE

   You can see how this is a huge problem. Therefore, a lot of people are
   migrating to a difference service, a little bit like the people are
   moving away from Whatsapp due to the privacy policy changes or from
   Google Photos due to the new limitations (luckly I found out I still
   have enough space there)

   In this article I will not go and do a compare of the difference
   services out there (just a brief mention to motivate my choice), but I
   will show you how I moved out from Lastpass to...happy reading üòÉ

** Content
   :PROPERTIES:
   :CUSTOM_ID: ArticleContent
   :END:

   In the following sections I will show you what I did for migrating
   my data away from LastPass and the choises I made.

*** Getting Data

    The first thing is fetching your data from LastPass. Looking on
    the web you can find that LastPass offer you to export all your
    passwords/logins/secure notes to a ~CSV file~. You can do it from
    the browser extension or from the site, I choose the first option

    [[file:./2021-02-19-PasswordManagerMigration/LastPassExtensionExport.png]]


    you will get a CSV file with the following headers:
    #+begin_src
url,username,password,extra,name,grouping,fav
    #+end_src

    Plus, in the end of the article we will have the list of the
    secure notes. I will take the chance to clean up the file from the
    useless data before importing it somewhere else. I just operate
    directly on the CSV, if you are not use to this format, I suggest
    you to just log in LastPass and check your data there before
    exporting everything.

*** Alternatives

    There are a lot of good alternatives out there, so you need to
    identify the right features you are looking for and then go on the
    web and search for the right candidates.

    *For me,* the features I'm looking for, sorted by importance, are:
    - Free & Open Source :: I don't want to do the migration and
         then end up having the same problem in a year time or so.
    - Integration & Comfort :: If I have a service, but it's hard to
         access it or not easy to use, it's almost the same as have no
         service.
    - Easy Migration :: If possible, I would like to have a way to
                        just upload a CSV and be good to go.

    Looking online, simply on [[https://en.wikipedia.org/wiki/List_of_password_managers][Wikipedia]] or online on Twitter, articles
    etc, I filtered out and shrinked the selection to just 4 alteravies:
    - [[https://www.mozilla.org/en-US/firefox/lockwise/][Firefox Lockwise]] :: This is free (Mozzilla) and integrated and
         sync automatically from the Firefox account. If you live with
         Firefox this is a great option, but, looking for a Chrome
         extension I found this comment from the related [[https://github.com/mozilla-lockwise/lockwise-addon/issues/350][Github issue]]

    [[file:./2021-02-19-PasswordManagerMigration/FirefoxLockwiseChromeExtension.png]]

    You won't have a standalone desktop application and the [[https://play.google.com/store/apps/details?id=mozilla.lockbox&hl=en&gl=US][android application]]
    doesn't have a very great reputation, especially looking at the
    most recent reviews. It has a [[https://support.mozilla.org/en-US/kb/import-login-data-file][CSV import option]], but you have to
    work the Last pass csv in order to fullfil the requested fields:

    #+BEGIN_SRC
"url","username","password","httpRealm","formActionOrigin","guid","timeCreated","timeLastUsed","timePasswordChanged"
    #+END_SRC

    Basically it's not different from what other browsers offer, like
    Chrome who use the Google cloud to synchronize your passwords or
    Opera for instance.

    * [[https://bitwarden.com/][Bitwarden]] :: This is, by far, the most pushed alternatives by
                   the media online and I can see why:
      - It is open source
      - It has:
        - all browser's extensions
        - CLI and standalone application for all the operating systems
        - mobile applications.
        - integration from all the other main password
            managers out there, LastPass included.

    The only Cons is that it has a Free account and then a pricing
    tiers, limiting the amount of users you can have or other features
    like sharing data or SSO etc. It's true, if you are just the
    typical user you probably don't care about those Business features
    at all, but nobody knows if, in the future, they might do a move
    like LastPass.(even if it would be a stupid move since we are
    witness this migration right now)

    * [[https://lesspass.com/][LessPass]] :: This is also a valid open source alternative. It
                  also has browser estensions, mobile and CLI
                  applications. Plus, it generate your password by
                  just apply a function to your master password:
                  basically the password came from your master
                  password, the site and some encryption
                  algorithm. You don't have to sync anything. This is
                  very appealing for me since I like so much
                  functional programming. The cons in here is
                  regarding its low popularity, so: you get less
                  update for the application itself, just go on their
                  Github and look at the commit frequency, and the
                  import from other services is not straight forward
    * [[https://lesspass.com/#/][pass]] :: This is the standard Unix tool to manage passwords and
         it starts as a local tool. However, the nerds are everywhere,
         so there are tons of third party tools that is based on
         pass. Because of it, we get all the extensions and mobile
         applications. The question is, how do you get the
         synchronization? It happens using git and Github. The
         downside is that you need to remember to push (the commit
         happens every time you modify the password store) your
         encrypted passwords. Finally, how do you import your data
         from other services? Well, as I said, this is the nerd tools,
         so you find the scripts parsing the different CSVs and import
         them in pass. [[https://git.zx2c4.com/password-store/tree/contrib/importers/lastpass2pass.rb][Ruby LastPass to Pass import script]]

*** My Choice

    In the beginning, I was thinking of move to Firefox Lockwise since
    I use that as my primary browser, but I also collect some
    work credentials as well. For the work credentials I use Chrome,
    so I need something that's browser independent. Due to this, I
    discarded Firefox Lockwise as an alternative

    LessPass doesn't have an automatic way of importing the LastPass
    data, and 1 have a lot of credentials. Plus, I'm scaried about the
    low popularity of the service. Discarded

    I'm left with Pass and Bitwarden. Well, if I was a normal person,
    I would just go for bitwarden, despite the possibility of find
    myself in a similar situation in the future. It is way better
    structured, supported out of the box (without third parties
    software) and the synchronization happens automatically, without
    you having to go and push the data. BUT, I'm a nerd, so you know
    what I'm gonna do, let's go for Pass!

*** The Migration

    This operation should be quite straight forward. Following the
    [[https://www.passwordstore.org/][Pass website]], we basically need to do these steps:
    - Download & install Pass
    - Validate the CSV modified. I modified just to clean it up. If
      you have the data already in a good shape you shouldn't need
      this passage.
    - Setup the main passphrase/password to encrypt your password
      store. It should create a folder in ~$HOME/.password-store/~
    - Run the [[https://git.zx2c4.com/password-store/tree/contrib/importers/lastpass2pass.rb][Ruby LastPass to Pass import script]]
    - Initialize the git repository
    - Add the Github remote repository, I suggest to use a private one
      even if the data would be encrypted anyway

    If you choose Pass, I assume you can follow these steps, so I
    won't show you here the commands and so on. Also becase the
    commands can change based on the system you live in.

    What I would do instead is: reporting in here if I find some
    obstacles or odds/unexpected events during the process. This way
    you are warned about those and you might dodge them or just change
    your mind about this approach.

** Conclusions
   :PROPERTIES:
   :CUSTOM_ID: ArticleConclusions
   :END:

* Share Buttons
  :PROPERTIES:
  :CUSTOM_ID: ShareButtons
  :END:
  #+BEGIN_EXPORT html
  <!-- AddToAny BEGIN -->
  <hr>
  <div class="a2a_kit a2a_kit_size_32 a2a_default_style">
  <a class="a2a_dd" href="https://www.addtoany.com/share"></a>
  <a class="a2a_button_facebook"></a>
  <a class="a2a_button_twitter"></a>
  <a class="a2a_button_whatsapp"></a>
  <a class="a2a_button_telegram"></a>
  <a class="a2a_button_linkedin"></a>
  <a class="a2a_button_email"></a>
  </div>
  <script async src="https://static.addtoany.com/menu/page.js"></script>
  <!-- AddToAny END -->
  #+END_EXPORT

  #+begin_export html
  <script type="text/javascript">
  $(function() {
    $('#text-table-of-contents > ul li').first().css("display", "none");
    $('#text-table-of-contents > ul li').last().css("display", "none");
    $('#table-of-contents').addClass("visible-lg")
  });
  </script>
  #+end_export
